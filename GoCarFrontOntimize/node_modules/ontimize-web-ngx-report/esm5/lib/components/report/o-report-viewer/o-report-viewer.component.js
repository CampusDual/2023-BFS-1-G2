/**
 * @fileoverview added by tsickle
 * Generated from: lib/components/report/o-report-viewer/o-report-viewer.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Inject, ViewEncapsulation } from '@angular/core';
import { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';
import { DialogService } from 'ontimize-web-ngx';
import { OReportService } from '../../../services/o-report.service';
import { Utils } from '../../../util/utils';
var OReportViewerComponent = /** @class */ (function () {
    function OReportViewerComponent(dialogRef, reportService, dialogService, data) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.reportService = reportService;
        this.dialogService = dialogService;
        this.data = data;
        this.pdf = '';
        this.name = '';
        this.fullscreen = false;
        this.reportService.configureService(this.reportService.getDefaultServiceConfiguration());
        this.reportService.configureAdapter();
        this.name = this.data.name;
        this.reportService.fillReport(this.data['params'], 'fillReport', {}, this.data['filter']).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        function (res) {
            if (res && res.data.length && res.code === 0) {
                _this.pdf = res.data[0].file;
            }
        }), (/**
         * @param {?} err
         * @return {?}
         */
        function (err) {
            if (_this.dialogService) {
                _this.dialogService.error('ERROR', 'SERVER_ERROR_MESSAGE');
            }
            console.log(err);
        }));
    }
    /**
     * @return {?}
     */
    OReportViewerComponent.prototype.setFullscreenDialog = /**
     * @return {?}
     */
    function () {
        Utils.setFullscreenDialog(this.fullscreen, this.dialogRef);
        this.fullscreen = !this.fullscreen;
    };
    OReportViewerComponent.decorators = [
        { type: Component, args: [{
                    selector: 'o-report-viewer',
                    template: "<div mat-dialog-title class=\"dialog-title\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n  {{ name }}\n  <div>\n    <mat-icon aria-label=\"fullscreen dialog\" (click)=\"setFullscreenDialog()\">\n      <ng-container *ngIf=\"fullscreen\">fullscreen_exit</ng-container>\n      <ng-container *ngIf=\"!fullscreen\">fullscreen</ng-container>\n    </mat-icon>\n    <mat-icon svgIcon=\"ontimize:close\" [mat-dialog-close]=\"true\"></mat-icon>\n  </div>\n</div>\n<div #dialog mat-dialog-content class=\"dialog-container\">\n  <ngx-extended-pdf-viewer [base64Src]=\"pdf\" [filenameForDownload]=\"name\" [showBookmarkButton]=\"false\" [showPropertiesButton]=\"false\"\n    [showOpenFileButton]=\"false\" useBrowserLocale=\"true\" delayFirstView=\"1000\" [textLayer]=\"true\"></ngx-extended-pdf-viewer>\n</div>\n",
                    encapsulation: ViewEncapsulation.None,
                    host: {
                        '[class.o-report-viewer]': 'true'
                    },
                    styles: [".o-dialog-class .mat-dialog-container .o-report-viewer .mat-dialog-title .mat-icon{cursor:pointer}.o-dialog-class .mat-dialog-container .o-report-viewer .mat-dialog-content{max-height:calc(100% - 36px - 8px);height:100%;padding-top:8px;padding-bottom:0}.o-dialog-class .mat-dialog-container .o-report-viewer ngx-extended-pdf-viewer .zoom{height:100%}"]
                }] }
    ];
    /** @nocollapse */
    OReportViewerComponent.ctorParameters = function () { return [
        { type: MatDialogRef },
        { type: OReportService },
        { type: DialogService },
        { type: undefined, decorators: [{ type: Inject, args: [MAT_DIALOG_DATA,] }] }
    ]; };
    return OReportViewerComponent;
}());
export { OReportViewerComponent };
if (false) {
    /** @type {?} */
    OReportViewerComponent.prototype.pdf;
    /** @type {?} */
    OReportViewerComponent.prototype.name;
    /** @type {?} */
    OReportViewerComponent.prototype.fullscreen;
    /** @type {?} */
    OReportViewerComponent.prototype.dialogRef;
    /**
     * @type {?}
     * @private
     */
    OReportViewerComponent.prototype.reportService;
    /**
     * @type {?}
     * @protected
     */
    OReportViewerComponent.prototype.dialogService;
    /** @type {?} */
    OReportViewerComponent.prototype.data;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiby1yZXBvcnQtdmlld2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL29udGltaXplLXdlYi1uZ3gtcmVwb3J0LyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcmVwb3J0L28tcmVwb3J0LXZpZXdlci9vLXJlcG9ydC12aWV3ZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDckUsT0FBTyxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNsRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ3BFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUU1QztJQWVFLGdDQUNTLFNBQStDLEVBQzlDLGFBQTZCLEVBQzNCLGFBQTRCLEVBQ04sSUFBUztRQUozQyxpQkFzQkM7UUFyQlEsY0FBUyxHQUFULFNBQVMsQ0FBc0M7UUFDOUMsa0JBQWEsR0FBYixhQUFhLENBQWdCO1FBQzNCLGtCQUFhLEdBQWIsYUFBYSxDQUFlO1FBQ04sU0FBSSxHQUFKLElBQUksQ0FBSztRQVJwQyxRQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ1QsU0FBSSxHQUFHLEVBQUUsQ0FBQztRQUNWLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFPakMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLDhCQUE4QixFQUFFLENBQUMsQ0FBQztRQUN6RixJQUFJLENBQUMsYUFBYSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVM7Ozs7UUFDakcsVUFBQSxHQUFHO1lBQ0QsSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLEVBQUU7Z0JBQzVDLEtBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7YUFDN0I7UUFDSCxDQUFDOzs7O1FBQ0QsVUFBQSxHQUFHO1lBQ0QsSUFBSSxLQUFJLENBQUMsYUFBYSxFQUFFO2dCQUN0QixLQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQzlCLHNCQUFzQixDQUFDLENBQUM7YUFDM0I7WUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLENBQUMsRUFDRixDQUFDO0lBQ0osQ0FBQzs7OztJQUNELG9EQUFtQjs7O0lBQW5CO1FBQ0UsS0FBSyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3JDLENBQUM7O2dCQXpDRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLGlCQUFpQjtvQkFDM0IsMHpCQUErQztvQkFFL0MsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLElBQUksRUFBRTt3QkFDSix5QkFBeUIsRUFBRSxNQUFNO3FCQUNsQzs7aUJBQ0Y7Ozs7Z0JBYlEsWUFBWTtnQkFFWixjQUFjO2dCQURkLGFBQWE7Z0RBdUJqQixNQUFNLFNBQUMsZUFBZTs7SUF1QjNCLDZCQUFDO0NBQUEsQUExQ0QsSUEwQ0M7U0FqQ1ksc0JBQXNCOzs7SUFFakMscUNBQWdCOztJQUNoQixzQ0FBaUI7O0lBQ2pCLDRDQUFtQzs7SUFHakMsMkNBQXNEOzs7OztJQUN0RCwrQ0FBcUM7Ozs7O0lBQ3JDLCtDQUFzQzs7SUFDdEMsc0NBQXlDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3QsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXREaWFsb2dSZWYsIE1BVF9ESUFMT0dfREFUQSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcbmltcG9ydCB7IERpYWxvZ1NlcnZpY2UgfSBmcm9tICdvbnRpbWl6ZS13ZWItbmd4JztcbmltcG9ydCB7IE9SZXBvcnRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvby1yZXBvcnQuc2VydmljZSc7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4uLy4uLy4uL3V0aWwvdXRpbHMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdvLXJlcG9ydC12aWV3ZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vby1yZXBvcnQtdmlld2VyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vby1yZXBvcnQtdmlld2VyLmNvbXBvbmVudC5zY3NzJ10sXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIGhvc3Q6IHtcbiAgICAnW2NsYXNzLm8tcmVwb3J0LXZpZXdlcl0nOiAndHJ1ZSdcbiAgfVxufSlcbmV4cG9ydCBjbGFzcyBPUmVwb3J0Vmlld2VyQ29tcG9uZW50IHtcblxuICBwdWJsaWMgcGRmID0gJyc7XG4gIHB1YmxpYyBuYW1lID0gJyc7XG4gIHB1YmxpYyBmdWxsc2NyZWVuOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPE9SZXBvcnRWaWV3ZXJDb21wb25lbnQ+LFxuICAgIHByaXZhdGUgcmVwb3J0U2VydmljZTogT1JlcG9ydFNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGRpYWxvZ1NlcnZpY2U6IERpYWxvZ1NlcnZpY2UsXG4gICAgQEluamVjdChNQVRfRElBTE9HX0RBVEEpIHB1YmxpYyBkYXRhOiBhbnkpIHtcbiAgICB0aGlzLnJlcG9ydFNlcnZpY2UuY29uZmlndXJlU2VydmljZSh0aGlzLnJlcG9ydFNlcnZpY2UuZ2V0RGVmYXVsdFNlcnZpY2VDb25maWd1cmF0aW9uKCkpO1xuICAgIHRoaXMucmVwb3J0U2VydmljZS5jb25maWd1cmVBZGFwdGVyKCk7XG4gICAgdGhpcy5uYW1lID0gdGhpcy5kYXRhLm5hbWU7XG4gICAgdGhpcy5yZXBvcnRTZXJ2aWNlLmZpbGxSZXBvcnQodGhpcy5kYXRhWydwYXJhbXMnXSwgJ2ZpbGxSZXBvcnQnLCB7fSwgdGhpcy5kYXRhWydmaWx0ZXInXSkuc3Vic2NyaWJlKFxuICAgICAgcmVzID0+IHtcbiAgICAgICAgaWYgKHJlcyAmJiByZXMuZGF0YS5sZW5ndGggJiYgcmVzLmNvZGUgPT09IDApIHtcbiAgICAgICAgICB0aGlzLnBkZiA9IHJlcy5kYXRhWzBdLmZpbGU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnIgPT4ge1xuICAgICAgICBpZiAodGhpcy5kaWFsb2dTZXJ2aWNlKSB7XG4gICAgICAgICAgdGhpcy5kaWFsb2dTZXJ2aWNlLmVycm9yKCdFUlJPUicsXG4gICAgICAgICAgICAnU0VSVkVSX0VSUk9SX01FU1NBR0UnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbiAgc2V0RnVsbHNjcmVlbkRpYWxvZygpOiB2b2lkIHtcbiAgICBVdGlscy5zZXRGdWxsc2NyZWVuRGlhbG9nKHRoaXMuZnVsbHNjcmVlbiwgdGhpcy5kaWFsb2dSZWYpO1xuICAgIHRoaXMuZnVsbHNjcmVlbiA9ICF0aGlzLmZ1bGxzY3JlZW47XG4gIH1cbn1cbiJdfQ==