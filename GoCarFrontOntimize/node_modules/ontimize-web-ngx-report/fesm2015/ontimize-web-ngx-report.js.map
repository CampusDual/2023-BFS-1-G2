{"version":3,"file":"ontimize-web-ngx-report.js","sources":["ng://ontimize-web-ngx-report/lib/services/o-alert.service.ts","ng://ontimize-web-ngx-report/lib/services/o-report.service.ts","ng://ontimize-web-ngx-report/lib/util/constants.ts","ng://ontimize-web-ngx-report/lib/util/utils.ts","ng://ontimize-web-ngx-report/lib/components/report/o-report-viewer/o-report-viewer.component.ts","ng://ontimize-web-ngx-report/lib/services/o-report-store.service.ts","ng://ontimize-web-ngx-report/lib/types/report-preferences.type.ts","ng://ontimize-web-ngx-report/lib/components/report-on-demand/apply-configuration/apply-configuration-dialog.component.ts","ng://ontimize-web-ngx-report/lib/components/report-on-demand/save-preferences-dialog/save-preferences-dialog.component.ts","ng://ontimize-web-ngx-report/lib/components/report-on-demand/select-function-dialog/select-function-dialog.component.ts","ng://ontimize-web-ngx-report/lib/components/report-on-demand/style-dialog/style-dialog.component.ts","ng://ontimize-web-ngx-report/lib/components/report-on-demand/report-on-demand/report-on-demand.component.ts","ng://ontimize-web-ngx-report/lib/services/ontimize-report.service.ts","ng://ontimize-web-ngx-report/lib/config/o-providers.ts","ng://ontimize-web-ngx-report/lib/components/report/o-report-home/o-report-home.component.ts","ng://ontimize-web-ngx-report/lib/components/report/o-report-new/o-report-new.component.ts","ng://ontimize-web-ngx-report/lib/components/report/o-report-detail/o-report-detail.component.ts","ng://ontimize-web-ngx-report/lib/i18n/i18n.ts","ng://ontimize-web-ngx-report/lib/util/o-reports-translate.pipe.ts","ng://ontimize-web-ngx-report/lib/config/o-components.ts","ng://ontimize-web-ngx-report/lib/ontimize-web-ngx-report.module.ts","ng://ontimize-web-ngx-report/lib/components/report/o-report-routing.module.ts","ng://ontimize-web-ngx-report/lib/interfaces/report-renderer.interface.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class OAlertService {\n\n  // Observable string\n  private alertSource = new Subject<string>();\n\n  // Observable string streams\n  alert$ = this.alertSource.asObservable();\n\n  // Service message commands\n  announceAlert(alert: string) {\n    this.alertSource.next(alert);\n  }\n\n}\n","import { Injectable, Injector } from \"@angular/core\";\nimport { OReportParam } from \"../types/report-param.type\";\nimport { Observable, OErrorDialogManager, OntimizeEEService, ServiceRequestParam, ServiceResponse, Util } from 'ontimize-web-ngx';\nimport { HttpEventType, HttpHeaders, HttpRequest } from \"@angular/common/http\";\nimport { share } from 'rxjs/operators';\n\n\n@Injectable({ providedIn: 'root' })\nexport class OReportService extends OntimizeEEService {\n  protected oErrorDialogManager: OErrorDialogManager;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    super.configureService(this.getDefaultServiceConfiguration());\n    this.oErrorDialogManager = injector.get<OErrorDialogManager>(OErrorDialogManager);\n  }\n\n  public createReport(reportparams: OReportParam): Observable<any> {\n\n    const body = JSON.stringify(\n      reportparams\n    )\n    const url = this.urlBase + '/dynamicjasper/report';\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body\n    });\n  }\n\n  public saveAsPreferences(preferencesparams?: object): Observable<any> {\n    const body = JSON.stringify(\n      preferencesparams\n    )\n    const url = this.urlBase + '/preferences/save';\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body\n    });\n  }\n\n  public savePreferences(id: number, preferencesparams?: object): Observable<any> {\n    const body = JSON.stringify(\n      preferencesparams\n    )\n    const url = this.urlBase + '/preferences/update/' + id;\n\n    return this.doRequest({\n      method: 'PUT',\n      url: url,\n      body: body\n    });\n  }\n\n  public getPreferences(entity?: string, service?: string): Observable<any> {\n\n    const url = this.urlBase + '/preferences/preferences?entity=' + entity + '&service=' + service + \"&type=REPORT\";\n\n    return this.doRequest({\n      method: 'GET',\n      url: url\n    });\n\n  }\n  public getFunctions(functionparams?: object): Observable<any> {\n\n    const body = JSON.stringify(\n      functionparams\n    )\n    const url = this.urlBase + '/dynamicjasper/functionsName';\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body\n    });\n  }\n\n  public deletePreferences(id?: number): Observable<any> {\n\n    const url = this.urlBase + '/preferences/remove/' + id;\n    return this.doRequest({\n      method: 'DELETE',\n      url: url\n    });\n\n  }\n\n  /** overridden method to add error callback for all requests */\n  doRequest(param: ServiceRequestParam): Observable<ServiceResponse> {\n    return super.doRequest({\n      method: param.method,\n      url: param.url,\n      body: param.body,\n      errorCallBack: this.errorCallBack\n    });\n  }\n\n\n  errorCallBack(httpErrorResponse: any) {\n    const error = httpErrorResponse.error;\n    if (Util.isObject(error)) {\n      if (error['code'] === 1 && Util.isDefined(error['message'])) {\n        this.showNotificationError(error['message']);\n        return;\n      }\n    }\n    this.showNotificationError('MESSAGES.ERROR_QUERY');\n\n  }\n\n  showNotificationError(error: string) {\n    this.oErrorDialogManager.openErrorDialog(error);\n  }\n\n  upload(files: any[], entity: string, data?: object): Observable<any> {\n    const dataObservable = new Observable(observer => {\n\n      let url = `${this.urlBase}/reportstore/${entity}`;\n\n      const toUpload: any = new FormData();\n      files.forEach(item => {\n        item.prepareToUpload();\n        item.isUploading = true;\n        toUpload.append('name', item.name);\n        toUpload.append('file', item.file);\n      });\n\n      if (data) {\n        toUpload.append('data', JSON.stringify(data));\n      }\n\n      const request = new HttpRequest('POST', url, toUpload, {\n        headers: this.buildHeadersReport(),\n        reportProgress: true\n      });\n\n      this.httpClient.request(request).subscribe(resp => {\n        if (HttpEventType.UploadProgress === resp.type) {\n          // Upload progress event received\n          const progressData = {\n            loaded: resp.loaded,\n            total: resp.total\n          };\n          observer.next(progressData);\n        } else if (HttpEventType.Response === resp.type) {\n          // Full response received\n          if (resp.body) {\n            this.bodyCode(resp, observer);\n          } else {\n            observer.next(resp.body);\n          }\n        }\n      }, error => {\n        console.error(error);\n        if (error.status === 401) {\n          this.authService.logout();\n        } else {\n          observer.error(error);\n        }\n      },\n        () => observer.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n  protected bodyCode(resp, observer) {\n    if (resp.body['code'] === 3) {\n      this.authService.logout();\n    } else if (resp.body['code'] === 1) {\n      observer.error(resp.body['message']);\n    } else if (resp.body['code'] === 0) {\n      // RESPONSE\n      observer.next(resp.body);\n    } else {\n      // Unknow state -> error\n      observer.error('Service unavailable');\n    }\n  }\n\n\n  public advancedQuery(_kv?: Object, _av?: Array<string>, entity?: string, _sqltypes?: Object, offset?: number, _pagesize?: number, _orderby?: Array<Object>): Observable<any> {\n    offset = (Util.isDefined(offset)) ? offset : this.offset;\n\n    // Calculate page\n    let page = 0;\n    if (Util.isDefined(offset)) {\n      page = Math.trunc(offset / 10) + 1;\n    }\n\n    let url = this.urlBase + '/reportstore/' + entity + '/?format=json' + '&page=' + page;\n\n    return this.doRequest({\n      method: 'GET',\n      url: url\n    });\n  }\n\n  public query(kv?: Object, _av?: Array<string>, entity?: string, _sqltypes?: Object): Observable<any> {\n    const identifier = kv['UUID'];\n    let url = '';\n    if (Object.keys(kv).length === 0) {\n      url = `${this.urlBase}/reportstore/${entity}`;\n    } else {\n      url = `${this.urlBase}/reportstore/${entity}/` + identifier;\n    }\n\n    return this.doRequest({\n      method: 'GET',\n      url: url\n    });\n  }\n\n  public fillReport(av?: Array<string>, entity?: string, _sqltypes?: Object, filter?: Object): Observable<any> {\n    const identifier = av[0];\n    let params = '';\n\n    for (let i = 1; i < av.length; i++)\n      params = params + av[i].toString() + ',';\n    let body = JSON.stringify({\n      params: params,\n      filter: filter\n    })\n\n    let url = `${this.urlBase}/reportstore/${entity}/` + identifier;\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body\n    });\n  }\n\n  public delete(kv?: Object, _entity?: string, _sqltypes?: Object): Observable<any> {\n    const identifier = kv.valueOf()[Object.keys(kv)[0]];\n    let url = `${this.urlBase}/reportstore/removeReport/` + identifier;\n\n    return this.doRequest({\n      method: 'DELETE',\n      url: url\n    });\n  }\n\n  public update(kv?: Object, av?: Array<string>, _entity?: string, _sqltypes?: Object): Observable<any> {\n    const identifier = kv.valueOf()[Object.keys(kv)[0]];\n    let url = `${this.urlBase}/reportstore/updateReport/` + identifier;\n\n    return this.doRequest({\n      method: 'PUT',\n      url: url,\n      body: av\n    });\n  }\n\n  protected buildHeadersReport(): HttpHeaders {\n    let headers = new HttpHeaders({ 'Access-Control-Allow-Origin': '*' });\n    const sessionId = this.authService.getSessionInfo().id;\n    if (Util.isDefined(sessionId)) {\n      headers = headers.append('Authorization', 'Bearer ' + sessionId);\n    }\n    return headers;\n  }\n\n}\n","import { OReportFunction } from \"../types\";\nexport class Constants {\n  public static DEFAULT_WIDTH_DIALOG = '70%';\n  public static DEFAULT_HEIGHT_DIALOG = '90%';\n  public static DEFAULT_WIDTH_COLUMN_STYLE = 85;\n  public static DEFAULT_ALIGNMENT_COLUMN_STYLE: 'center' | 'right' | 'left' = 'left';\n  public static DEFAULT_COLUMN_FUNCTION: OReportFunction = { columnName: 'TOTAL', type: 'TOTAL' };\n}\n","import { MatDialog } from \"@angular/material\";\nimport { Constants } from \"./constants\";\n\nexport class Utils {\n  static setFullscreenDialog(fullscreen: boolean, dialogRef: any): void {\n    if (!fullscreen) {\n      dialogRef.updateSize(\"100%\", \"100%\");\n    } else {\n      dialogRef.updateSize(Constants.DEFAULT_WIDTH_DIALOG, Constants.DEFAULT_HEIGHT_DIALOG);\n    }\n  }\n  static cloneObject(data: Object) {\n    return JSON.parse(JSON.stringify(data));\n  }\n\n  static openModalVisor(dialog: MatDialog, component: any, data: object) {\n    dialog.open(component, {\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: Constants.DEFAULT_HEIGHT_DIALOG,\n      width: Constants.DEFAULT_WIDTH_DIALOG,\n      panelClass: ['o-dialog-class', 'o-table-dialog', 'o-report'],\n      data: data\n    });\n  }\n}\n","import { Component, Inject, ViewEncapsulation } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { DialogService } from 'ontimize-web-ngx';\nimport { OReportService } from '../../../services/o-report.service';\nimport { Utils } from '../../../util/utils';\n\n@Component({\n  selector: 'o-report-viewer',\n  templateUrl: './o-report-viewer.component.html',\n  styleUrls: ['./o-report-viewer.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-report-viewer]': 'true'\n  }\n})\nexport class OReportViewerComponent {\n\n  public pdf = '';\n  public name = '';\n  public fullscreen: boolean = false;\n\n  constructor(\n    public dialogRef: MatDialogRef<OReportViewerComponent>,\n    private reportService: OReportService,\n    protected dialogService: DialogService,\n    @Inject(MAT_DIALOG_DATA) public data: any) {\n    this.reportService.configureService(this.reportService.getDefaultServiceConfiguration());\n    this.reportService.configureAdapter();\n    this.name = this.data.name;\n    this.reportService.fillReport(this.data['params'], 'fillReport', {}, this.data['filter']).subscribe(\n      res => {\n        if (res && res.data.length && res.code === 0) {\n          this.pdf = res.data[0].file;\n        }\n      },\n      err => {\n        if (this.dialogService) {\n          this.dialogService.error('ERROR',\n            'SERVER_ERROR_MESSAGE');\n        }\n        console.log(err);\n      }\n    );\n  }\n  setFullscreenDialog(): void {\n    Utils.setFullscreenDialog(this.fullscreen, this.dialogRef);\n    this.fullscreen = !this.fullscreen;\n  }\n}\n","import { Injectable, Injector } from \"@angular/core\";\nimport { MatDialog } from \"@angular/material\";\nimport { DialogService } from \"ontimize-web-ngx\";\nimport { OReportViewerComponent } from \"../components/report/o-report-viewer/o-report-viewer.component\";\nimport { Utils } from \"../util/utils\";\nimport { OReportService } from \"./o-report.service\";\n\n@Injectable()\nexport class OReportStoreService {\n  private reportService: OReportService;\n  protected dialogService: DialogService;\n  protected dialog: MatDialog\n  constructor(\n    private injector: Injector\n  ) {\n    this.dialogService = this.injector.get<DialogService>(DialogService);\n    this.dialog = this.injector.get<MatDialog>(MatDialog);\n    this.reportService = this.injector.get<OReportService>(OReportService);\n  }\n\n  openFillReport(reportId: string, parametersValues: object, filter: object) {\n    this.reportService.configureService(this.reportService.getDefaultServiceConfiguration());\n    this.reportService.configureAdapter();\n    let kv = { 'UUID': reportId };\n    this.reportService.query(kv, null, 'getReport', {}).subscribe(\n      res => {\n        if (res && res.data.length && res.code === 0) {\n          let parameters = res.data[0].PARAMETERS;\n          let name = res.data[0].NAME;\n          let av = [];\n          if (parameters.length > 0) {\n            av = [reportId];\n            let values = Object.values(parametersValues);\n            for (let value of values) {\n              av.push(value);\n            }\n          } else {\n            av = [reportId];\n          }\n          const data = { 'params': av, 'filter': filter, 'name': name };\n          Utils.openModalVisor(this.dialog, OReportViewerComponent, data)\n\n        }\n      },\n      err => {\n        if (this.dialogService) {\n          this.dialogService.error('ERROR',\n            'SERVER_ERROR_MESSAGE');\n        }\n        console.log(err);\n      }\n    );\n\n  }\n}","import { OReportColumn } from \"./report-column.type\"\nimport { OReportFunction } from \"./report-function.type\"\nimport { OReportOrderBy } from \"./report-orderBy.type\"\nimport { OReportStyleParams } from \"./report-style-params.type\"\n\nexport type OReportPreferences = {\n  title: string\n  subtitle: string,\n  vertical: boolean,\n  style: OReportStyleParams,\n  columns: Array<OReportColumn>,\n  orderBy?: Array<OReportOrderBy>,\n  functions?: Array<OReportFunction>,\n  groups?: Array<string>,\n  entity: string,\n  service: string\n}\n\nexport class DefaultOReportPreferences implements OReportPreferences {\n  public title: string;\n  public subtitle: string;\n  public vertical: boolean;\n  public columns: OReportColumn[];\n  public groups: string[];\n  public functions: OReportFunction[];\n  public style: OReportStyleParams;\n  public orderBy: OReportOrderBy[];\n  public entity: string;\n  public service: string;\n\n  constructor() {\n    this.title = '';\n    this.subtitle = '';\n    this.vertical = true;\n    this.columns = [];\n    this.groups = [];\n    this.functions = [];\n    this.style = {\n      grid: false, rowNumber: false, columnName: true, backgroundOnOddRows: false, hideGroupDetails: false, groupNewPage: false, firstGroupNewPage: false\n    };\n    this.orderBy = [];\n    this.entity = '';\n    this.service = '';\n\n  }\n}\n\n\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { Component, Inject, OnInit, Optional, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatSelectionList, MatListOption } from '@angular/material';\nimport { DialogService, Util } from 'ontimize-web-ngx';\nimport { OReportService } from '../../../services/o-report.service';\nimport { OReportConfiguration } from '../../../types/report-configuration.type';\n\n\n@Component({\n  selector: 'apply-configuration-dialog',\n  templateUrl: './apply-configuration-dialog.component.html'\n})\n\nexport class ApplyConfigurationDialogComponent implements OnInit {\n  @ViewChild(MatSelectionList, { static: true })\n  protected configurationList: MatSelectionList;\n\n  public configurationListData: OReportConfiguration[] = [];\n  public selectedConfiguration: OReportConfiguration;\n\n  constructor(\n    private dialogService: DialogService,\n    private reportsService: OReportService,\n    public dialogo: MatDialogRef<ApplyConfigurationDialogComponent>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any) {\n    this.getConfigurations();\n  }\n  ngOnInit(): void {\n    this.configurationList.selectedOptions = new SelectionModel<MatListOption>(false);\n  }\n\n  loadConfiguration(): void {\n    this.dialogo.close(this.selectedConfiguration);\n  }\n\n  remove(): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION').then(result => {\n      if (result) {\n        this.reportsService.deletePreferences(this.selectedConfiguration.ID).subscribe(res => {\n          if (res && res.code === 0) {\n            this.getConfigurations();\n          }\n        });\n      }\n    });\n  }\n  onClickConfigurationList(option) {\n    this.selectedConfiguration = option;\n  }\n\n  getConfigurations() {\n    this.reportsService.getPreferences(this.data.entity, this.data.service).subscribe(resp => {\n      if (resp.isSuccessful()) {\n        this.setDataArray(resp.data);\n      }\n    });\n  }\n\n  setDataArray(data: any) {\n    if (Util.isArray(data)) {\n      this.configurationListData = data;\n    } else {\n      this.configurationListData = []\n    }\n  }\n}","import { Component, Injector } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MatDialogRef } from '@angular/material';\nimport { OTableBaseDialogClass } from 'ontimize-web-ngx';\n\n@Component({\n  selector: 'app-save-preferences-dialog',\n  templateUrl: './save-preferences-dialog.component.html'\n})\n\nexport class SavePreferencesDialogComponent extends OTableBaseDialogClass {\n  public name: string;\n  public description: string;\n\n  public formGroup: FormGroup = new FormGroup({\n    name: new FormControl('', [\n      Validators.required\n    ]),\n    description: new FormControl('')\n  });\n\n  constructor(\n    public dialogo: MatDialogRef<SavePreferencesDialogComponent>,\n    protected injector: Injector) {\n    super(injector);\n    this.setFormControl(this.formGroup.get('name'));\n  }\n\n  save(): void {\n    this.dialogo.close({ \"name\": this.name, \"description\": this.description });\n  }\n}\n","import { Component, Inject, Optional } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { OReportFunction } from '../../../types/report-function.type';\n\n@Component({\n  selector: 'app-select-function-dialog',\n  templateUrl: './select-function-dialog.component.html',\n  styleUrls: ['./select-function-dialog.component.scss'],\n})\nexport class SelectFunctionDialogComponent {\n  public selectedFunction: string;\n  public functions: { id: string, value: string }[] = [\n    { id: 'SUM', value: 'DIALOG.SELECT_FUNCTION.SUM' },\n    { id: 'AVERAGE', value: 'DIALOG.SELECT_FUNCTION.AVG' },\n    { id: 'MAX', value: 'DIALOG.SELECT_FUNCTION.MAX' },\n    { id: 'MIN', value: 'DIALOG.SELECT_FUNCTION.MIN' }];\n  constructor(\n    public dialogo: MatDialogRef<SelectFunctionDialogComponent>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public reportFunction: OReportFunction) {\n    this.selectedFunction = reportFunction.type;\n  }\n\n  public save(): void {\n    this.dialogo.close({ columnName: this.reportFunction.columnName, type: this.selectedFunction });\n  }\n\n}\n","import { Component, Inject, Optional } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Util } from 'ontimize-web-ngx';\nimport { OReportColumn } from '../../../types/report-column.type';\nimport { Constants } from '../../../util/constants';\nimport { Utils } from '../../../util/utils';\n\n@Component({\n  selector: 'app-style-dialog',\n  templateUrl: './style-dialog.component.html'\n})\nexport class StyleDialogComponent {\n\n  public reportColumn: OReportColumn;\n\n  public dataAlignment = [\n    { \"name\": \"left\", \"icon\": \"format_align_left\" },\n    { \"name\": \"center\", \"icon\": \"format_align_center\" },\n    { \"name\": \"right\", \"icon\": \"format_align_right\" }\n  ]\n\n  constructor(\n    @Optional() public dialogo: MatDialogRef<StyleDialogComponent>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: OReportColumn) {\n\n    this.reportColumn = Utils.cloneObject(data);\n\n    if (this.reportColumn.columnStyle && !Util.isDefined(this.reportColumn.columnStyle.width)) {\n      this.reportColumn.columnStyle.width = Constants.DEFAULT_WIDTH_COLUMN_STYLE;\n    }\n    if (this.reportColumn.columnStyle && !Util.isDefined(this.reportColumn.columnStyle.alignment)) {\n      this.reportColumn.columnStyle.alignment = Constants.DEFAULT_ALIGNMENT_COLUMN_STYLE;\n    }\n    if (!this.reportColumn.columnStyle) {\n      this.reportColumn.columnStyle = { width: Constants.DEFAULT_WIDTH_COLUMN_STYLE, alignment: Constants.DEFAULT_ALIGNMENT_COLUMN_STYLE }\n    }\n  }\n\n  confirm(): void {\n    this.dialogo.close(this.reportColumn);\n  }\n\n}\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { Injector, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { Component, OnInit, Inject } from '@angular/core';\nimport { MatSelectionList, MatSelectionListChange } from '@angular/material';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { AppConfig, DialogService, OColumn, OTableComponent, OTranslateService, SnackBarService, Util } from 'ontimize-web-ngx';\nimport { OReportService } from '../../../services/o-report.service';\nimport { OReportColumnStyle } from '../../../types/report-column-style.type';\nimport { OReportColumn } from '../../../types/report-column.type';\nimport { OReportConfiguration } from '../../../types/report-configuration.type';\nimport { OReportFunction } from '../../../types/report-function.type';\nimport { OReportOrderBy } from '../../../types/report-orderBy.type';\nimport { DefaultOReportPreferences, OReportPreferences } from '../../../types/report-preferences.type';\nimport { Utils } from '../../../util/utils';\nimport { ApplyConfigurationDialogComponent } from '../apply-configuration/apply-configuration-dialog.component';\nimport { SavePreferencesDialogComponent } from '../save-preferences-dialog/save-preferences-dialog.component';\nimport { SelectFunctionDialogComponent } from '../select-function-dialog/select-function-dialog.component';\n\nimport { StyleDialogComponent } from '../style-dialog/style-dialog.component';\n\n@Component({\n  selector: 'o-report-on-demand',\n  templateUrl: './report-on-demand.component.html',\n  styleUrls: ['./report-on-demand.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-report-on-demand]': 'true'\n  }\n})\n\nexport class ReportOnDemandComponent implements OnInit {\n\n  @ViewChild('columnsList', { static: false }) columnsList: MatSelectionList;\n  @ViewChild('functionsList', { static: false }) functionsList: MatSelectionList;\n  @ViewChild('orderByList', { static: false }) orderByList: MatSelectionList;\n\n  public orientations = [{ text: \"vertical\", value: true }, { text: \"horizontal\", value: false }];\n  public functionsData: OReportFunction[] = [];\n  private initialFunctionsData: OReportFunction[] = [];\n  public appliedConfiguration: boolean = false;\n  public selectedFunctions = [];\n\n  public stylesArray = [\n    { value: 'grid', viewValue: 'GRID' },\n    { value: 'rowNumber', viewValue: 'ROW_NUMBER' },\n    { value: 'columnName', viewValue: 'COLUMNS_NAMES' },\n    { value: 'backgroundOnOddRows', viewValue: 'BACKGROUND_ODD_ROWS' },\n    { value: 'hideGroupDetails', viewValue: 'GROUP_DETAILS' },\n    { value: 'groupNewPage', viewValue: 'GROUP_PAGE' },\n    { value: 'firstGroupNewPage', viewValue: 'FIRST_GROUP_PAGE' }\n  ];\n\n\n  public columnsData: Array<OReportColumn>;\n  private initialColumnsData: Array<OReportColumn>;\n  public selectedColumnsData: string[];\n  public columnsOrderBy: Array<OReportOrderBy> = [];\n\n  public columnsToGroupData: any[];\n  private initialColumnsToGroupData: any[];\n  public openedSidenav: boolean = true;\n  public fullscreen: boolean = false;\n\n  protected service: string;\n  protected language: string;\n  protected columnsArray: Array<string>;\n  protected table: OTableComponent;\n  private blankPdf: string = 'JVBERi0xLjYKJcOkw7zDtsOfCjIgMCBvYmoKPDwvTGVuZ3RoIDMgMCBSL0ZpbHRlci9GbGF0ZURlY29kZT4+CnN0cmVhbQp4nDPQM1Qo5ypUMFAw0DMwslAwtTTVMzI3VbAwMdSzMDNUKErlCtdSyOMKVAAAtxIIrgplbmRzdHJlYW0KZW5kb2JqCgozIDAgb2JqCjUwCmVuZG9iagoKNSAwIG9iago8PAo+PgplbmRvYmoKCjYgMCBvYmoKPDwvRm9udCA1IDAgUgovUHJvY1NldFsvUERGL1RleHRdCj4+CmVuZG9iagoKMSAwIG9iago8PC9UeXBlL1BhZ2UvUGFyZW50IDQgMCBSL1Jlc291cmNlcyA2IDAgUi9NZWRpYUJveFswIDAgNTk1LjMwMzkzNzAwNzg3NCA4NDEuODg5NzYzNzc5NTI4XS9Hcm91cDw8L1MvVHJhbnNwYXJlbmN5L0NTL0RldmljZVJHQi9JIHRydWU+Pi9Db250ZW50cyAyIDAgUj4+CmVuZG9iagoKNCAwIG9iago8PC9UeXBlL1BhZ2VzCi9SZXNvdXJjZXMgNiAwIFIKL01lZGlhQm94WyAwIDAgNTk1IDg0MSBdCi9LaWRzWyAxIDAgUiBdCi9Db3VudCAxPj4KZW5kb2JqCgo3IDAgb2JqCjw8L1R5cGUvQ2F0YWxvZy9QYWdlcyA0IDAgUgovT3BlbkFjdGlvblsxIDAgUiAvWFlaIG51bGwgbnVsbCAwXQovTGFuZyhlcy1FUykKPj4KZW5kb2JqCgo4IDAgb2JqCjw8L0F1dGhvcjxGRUZGMDA1MDAwNjEwMDc0MDA3MjAwNjkwMDYzMDA2OTAwNjEwMDIwMDA0RDAwNjEwMDcyMDA3NDAwRUQwMDZFMDA2NTAwN0EwMDIwMDA1NDAwNjkwMDZDMDA3NjAwNjU+Ci9DcmVhdG9yPEZFRkYwMDU3MDA3MjAwNjkwMDc0MDA2NTAwNzI+Ci9Qcm9kdWNlcjxGRUZGMDA0QzAwNjkwMDYyMDA3MjAwNjUwMDRGMDA2NjAwNjYwMDY5MDA2MzAwNjUwMDIwMDAzNzAwMkUwMDMxPgovQ3JlYXRpb25EYXRlKEQ6MjAyMjA1MTAxNDUyMDYrMDInMDAnKT4+CmVuZG9iagoKeHJlZgowIDkKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMjM0IDAwMDAwIG4gCjAwMDAwMDAwMTkgMDAwMDAgbiAKMDAwMDAwMDE0MCAwMDAwMCBuIAowMDAwMDAwNDAyIDAwMDAwIG4gCjAwMDAwMDAxNTkgMDAwMDAgbiAKMDAwMDAwMDE4MSAwMDAwMCBuIAowMDAwMDAwNTAwIDAwMDAwIG4gCjAwMDAwMDA1OTYgMDAwMDAgbiAKdHJhaWxlcgo8PC9TaXplIDkvUm9vdCA3IDAgUgovSW5mbyA4IDAgUgovSUQgWyA8RDdBODhCRTRFREFDRkU1RDFGMTIwMzNFMDUyN0JERkU+CjxEN0E4OEJFNEVEQUNGRTVEMUYxMjAzM0UwNTI3QkRGRT4gXQovRG9jQ2hlY2tzdW0gLzgwNTA5NDU4QjgyN0RCRDQ2QzlEODdBMjY4NjdCNEFDCj4+CnN0YXJ0eHJlZgo4NzYKJSVFT0YK';\n\n  public currentPreference: OReportPreferences;\n  public currentConfiguration: OReportConfiguration;\n  public pdf: string;\n\n  public translateService: OTranslateService;\n  protected appConfig: AppConfig;\n  protected snackBarService: SnackBarService;\n  protected reportService: OReportService;\n  protected dialogService: DialogService;\n  public dialog: MatDialog;\n\n  constructor(\n    public injector: Injector,\n    public dialogRef: MatDialogRef<ReportOnDemandComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: OTableComponent\n  ) {\n    this.appConfig = this.injector.get(AppConfig);\n    this.translateService = this.injector.get<OTranslateService>(OTranslateService);\n    this.snackBarService = this.injector.get<SnackBarService>(SnackBarService);\n    this.reportService = this.injector.get<OReportService>(OReportService);\n    this.dialogService = this.injector.get<DialogService>(DialogService);\n    this.dialog = this.injector.get<MatDialog>(MatDialog);\n  }\n\n  ngOnInit() {\n    this.initialize();\n  }\n\n  protected initialize() {\n    this.table = this.data;\n    this.language = this.translateService.getCurrentLang();\n    this.service = this.table.service;\n    this.columnsArray = this.parseColumnsVisible();\n    this.initialColumnsData = this.parseReportColumn(this.columnsArray);\n    this.initialColumnsToGroupData = this.columnsArray;\n    this.currentConfiguration = { ENTITY: this.table.entity };\n    this.initializeReportPreferences();\n\n    this.getFunctions();\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string): any {\n    const configuration = this.appConfig.getServiceConfiguration();\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    return servConfig;\n  }\n\n  public previewReport(): void {\n    this.openReport();\n  }\n\n  public clearCurrentPreferences() {\n    this.initializeReportPreferences();\n    if (this.columnsList) {\n      this.columnsList.deselectAll();\n    }\n    if (this.functionsList) {\n      this.functionsList.deselectAll();\n    }\n\n    if (this.orderByList) {\n      this.orderByList.deselectAll();\n    }\n  }\n\n  protected initializeReportPreferences() {\n    /* initialize columnsData and functionsData because they are modified by\n    changing settings */\n    this.columnsData = Utils.cloneObject(this.initialColumnsData);\n    this.functionsData = Utils.cloneObject(this.initialFunctionsData);\n    this.columnsToGroupData = Utils.cloneObject(this.initialColumnsToGroupData);\n    this.columnsOrderBy = [];\n    this.pdf = this.blankPdf;\n    this.currentPreference = new DefaultOReportPreferences();\n    this.currentPreference.entity = this.table.entity;\n    this.currentPreference.service = this.table.service;\n  }\n\n  protected parseColumnsVisible() {\n    const columnsArray = Util.parseArray(this.table.columns);\n    return this.table.oTableOptions.columns.filter(oCol => oCol.type !== \"image\" && oCol.visible && columnsArray.findIndex(column => column === oCol.attr) > -1).map(\n      (x: OColumn) => x.attr\n    )\n  }\n\n  protected parseReportColumn(columns: any[]): OReportColumn[] {\n    return columns.map(column => {\n      let reportColumn: OReportColumn = {\n        id: column, name: this.translateService.get(column)\n      };\n      let columnStyle = this.parseColumnStyle(column);\n      if (Util.isObject(columnStyle) && Object.keys(columnStyle).length > 0) {\n        reportColumn.columnStyle = columnStyle;\n      }\n      return reportColumn;\n    });\n  }\n\n  protected parseColumnStyle(column: string): OReportColumnStyle {\n    let columnStyle: OReportColumnStyle = {};\n    const renderer = this.createRenderer(column);\n    if (Util.isDefined(renderer) && Util.isDefined(renderer.type)) {\n      columnStyle.renderer = renderer;\n    }\n    return columnStyle;\n  }\n\n  protected parseColumnsOrderBy(columnsOrderBy: any): OReportOrderBy[] {\n    return columnsOrderBy.map(column => {\n      return { columnId: column.columnId, columnName: column.name, ascendent: column.ascendent }\n    });\n  }\n\n  protected openReport() {\n    const serviceConfiguration = this.getDefaultServiceConfiguration(this.currentPreference.service);\n    let pathService: string;\n    if (Util.isObject(serviceConfiguration) && serviceConfiguration.hasOwnProperty('path')) {\n      pathService = serviceConfiguration.path;\n    }\n    this.reportService.createReport({\n      \"title\": this.currentPreference.title, \"groups\": this.currentPreference.groups, \"entity\": this.currentPreference.entity, \"path\": pathService,\n      \"service\": this.currentPreference.service, \"vertical\": this.currentPreference.vertical, \"functions\": this.currentPreference.functions,\n      \"style\": this.currentPreference.style, \"subtitle\": this.currentPreference.subtitle, \"columns\": this.currentPreference.columns, \"orderBy\": this.currentPreference.orderBy,\n      \"language\": this.language\n\n    }).subscribe(res => {\n      if (res && res.data.length && res.code === 0) {\n        this.pdf = res.data[0].file;\n      }\n    });\n  }\n\n  getFunctions() {\n    this.reportService.getFunctions({\n      \"columns\": this.columnsArray, \"entity\": this.currentPreference.entity,\n      \"service\": this.currentPreference.service, \"language\": this.language\n    }).subscribe(res => {\n      if (res && res.data.length && res.code === 0) {\n        this.functionsData = this.parseDefaultFunctionsData(res.data[0].functions);\n        this.initialFunctionsData = Utils.cloneObject(this.functionsData);\n      }\n    });\n  }\n\n  parseDefaultFunctionsData(listColumns: OReportFunction[]) {\n    return listColumns.filter(column =>\n      this.columnsData.\n        findIndex(columnData =>\n          columnData.columnStyle && columnData.columnStyle.renderer && columnData.columnStyle.renderer.type === 'service' && columnData.id === column.columnName\n        ) === -1\n    );\n  }\n\n  /**\n   * Checks preference data is consistent with the table data\n   */\n  private checkPreferenceData() {\n    this.currentPreference.columns = this.currentPreference.columns.filter(column => this.initialColumnsData.findIndex(columnData => columnData.id === column.id) > -1);\n    this.currentPreference.groups = this.currentPreference.groups.filter(column => this.initialColumnsToGroupData.findIndex(columnData => columnData === column) > -1);\n    this.currentPreference.functions = this.currentPreference.functions.filter(column => this.initialFunctionsData.findIndex(columnData => columnData.columnName === column.columnName) > -1);\n    this.currentPreference.orderBy = this.currentPreference.orderBy.filter(column => this.columnsOrderBy.findIndex(columnData => columnData.columnId === column.columnId) > -1);\n  }\n\n  applyConfiguration(configuration: any) {\n    this.clearCurrentPreferences();\n    this.currentConfiguration = configuration;\n    this.currentPreference = JSON.parse(this.currentConfiguration.PREFERENCES);\n    this.currentPreference.columns.forEach((column: OReportColumn) => this.updateColumnsOrderByData(column.id));\n\n    this.checkPreferenceData();\n    // Set the functionsData with the data that is loaded from the configuration because it changes\n    this.functionsData = this.functionsData.map((functionData: OReportFunction) => {\n      const index = this.currentPreference.functions.findIndex(x => x.columnName === functionData.columnName);\n      if (index > -1) {\n        functionData.type = this.currentPreference.functions[index].type;\n      }\n      return functionData\n    });\n\n    this.columnsData.sort((a: OReportColumn, b: OReportColumn) => {\n      let indexA = this.currentPreference.columns.findIndex(x => x.id === a.id);\n      let indexB = this.currentPreference.columns.findIndex(x => x.id === b.id);\n      return this.getSortIndex(indexA, indexB);\n\n    });\n    this.columnsOrderBy.sort((a: OReportOrderBy, b: OReportOrderBy) => {\n      let indexA = this.currentPreference.orderBy.findIndex(x => x.columnId === a.columnId);\n      let indexB = this.currentPreference.orderBy.findIndex(x => x.columnId === b.columnId);\n      return this.getSortIndex(indexA, indexB);\n\n    });\n    this.columnsToGroupData.sort((a: string, b: string) => {\n      let indexA = this.currentPreference.groups.findIndex(x => x === a);\n      let indexB = this.currentPreference.groups.findIndex(x => x === b);\n      return this.getSortIndex(indexA, indexB);\n    });\n\n  }\n\n  private getSortIndex(indexA: number, indexB: number): number {\n    if (indexA === -1) {\n      return 0;\n    }\n    if (indexB === -1) {\n      return indexB;\n    } else {\n      return indexA - indexB;\n    }\n\n  }\n\n  showColumnStyleDialog(event: Event, id: string): void {\n    event.stopPropagation();\n    const columnData: OReportColumn = Object.assign({}, this.currentPreference.columns.find((x: OReportColumn) => x.id === id));\n    if (Util.isDefined(columnData)) {\n      this.dialog\n        .open(StyleDialogComponent, {\n          data: columnData,\n          panelClass: ['o-dialog-class', 'o-table-dialog']\n        })\n        .afterClosed()\n        .subscribe((data: OReportColumn) => {\n          if (Util.isDefined(data) && data) {\n            const column = Utils.cloneObject(data);\n            this.updateColumnStyleConfigurationData(column);\n          }\n        });\n    }\n  }\n\n  updateColumnStyleConfigurationData(data: OReportColumn) {\n\n\n    let columns = Utils.cloneObject(this.currentPreference.columns);\n    this.currentPreference.columns = [];\n    const indexColumnData = this.columnsData.findIndex(x => x.id === data.id);\n    if (indexColumnData > -1) {\n      this.columnsData[indexColumnData] = data;\n    }\n    const indexColumnStyleData = columns.findIndex(x => x.id === data.id);\n    if (indexColumnStyleData > -1) {\n      columns[indexColumnStyleData] = data;\n    }\n\n    this.currentPreference.columns = columns;\n\n  }\n\n\n  selectFunction(event, reportFunction: OReportFunction): void {\n    event.stopPropagation();\n    if (reportFunction.columnName != 'TOTAL') {\n      this.dialog\n        .open(SelectFunctionDialogComponent, {\n          data: reportFunction,\n          panelClass: ['o-dialog-class', 'o-table-dialog']\n        })\n        .afterClosed()\n        .subscribe((data: any) => {\n          //Updated current functions selected and functionsData\n          if (data) {\n            this.updatedFunctionData(data);\n            this.updatedSelectFunction(data);\n          }\n        });\n    }\n  }\n\n  private updatedFunctionData(data: OReportFunction) {\n    const index = this.functionsData.findIndex(x => x.columnName === data.columnName);\n    if (index === -1) {\n      this.functionsData.push(data);\n    } else {\n      this.functionsData[index] = data;\n    }\n  }\n\n  private updatedSelectFunction(selectedFunction: OReportFunction) {\n    this.currentPreference.functions.forEach((data: any, i: number) => {\n      if (data.columnName === selectedFunction.columnName) {\n        this.currentPreference.functions[i] = data;\n      }\n    })\n  }\n\n  openSaveAsPreferences(): void {\n    this.dialog\n      .open(SavePreferencesDialogComponent, {\n        panelClass: ['o-dialog-class', 'o-table-dialog']\n      })\n      .afterClosed()\n      .subscribe((data: { name: string, description: string }) => {\n        if (Util.isDefined(data) && data) {\n          this.savePreferences(data);\n        }\n      });\n\n  }\n\n  dropColumns(event: CdkDragDrop<string[]>) {\n    moveItemInArray(this.columnsData, event.previousIndex, event.currentIndex);\n    this.updateColumnsSort();\n  }\n\n  dropGroups(event: CdkDragDrop<any[]>) {\n    moveItemInArray(this.columnsToGroupData, event.previousIndex, event.currentIndex)\n    this.updateColumnToGroupSort();\n  }\n\n  dropColumnsOrderBy(event: CdkDragDrop<string[]>) {\n    moveItemInArray(this.columnsOrderBy, event.previousIndex, event.currentIndex);\n    this.updateColumnGroupBySort();\n  }\n\n  updateColumnsSort() {\n    this.currentPreference.columns.sort((a: OReportColumn, b: OReportColumn) => {\n      let indexA = this.columnsData.findIndex(x => x.id === a.id);\n      let indexB = this.columnsData.findIndex(x => x.id === b.id);\n      return indexA - indexB;\n    });\n  }\n\n  updateColumnGroupBySort() {\n    this.currentPreference.orderBy.sort((a: OReportOrderBy, b: OReportOrderBy) => {\n      let indexA = this.columnsOrderBy.findIndex(x => x.columnId === a.columnId);\n      let indexB = this.columnsOrderBy.findIndex(x => x.columnId === b.columnId);\n      return indexA - indexB;\n    });\n  }\n\n  updateColumnToGroupSort() {\n    this.currentPreference.groups.sort((a: string, b: string) => {\n      let indexA = this.columnsToGroupData.findIndex(x => x === a);\n      let indexB = this.columnsToGroupData.findIndex(x => x === b);\n      return indexA - indexB;\n    });\n  }\n\n  public onApplyConfigurationClicked(): void {\n    this.dialog.open(ApplyConfigurationDialogComponent, {\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog'],\n      data: { entity: this.currentPreference.entity, service: this.currentPreference.service },\n    }).afterClosed()\n      .subscribe((data: OReportConfiguration) => {\n        if (Util.isDefined(data) && data) {\n          this.applyConfiguration(data);\n          this.appliedConfiguration = true;\n        }\n      }, _error => {\n        this.appliedConfiguration = false;\n      });\n  }\n\n  openSavePreferences(): void {\n    if (Util.isDefined(this.currentConfiguration.ID)) {\n      this.savePreferences({ name: this.currentConfiguration.NAME, description: this.currentConfiguration.DESCRIPTION }, true);\n    } else {\n      this.dialog\n        .open(SavePreferencesDialogComponent, {\n          panelClass: ['o-dialog-class', 'o-table-dialog']\n        })\n        .afterClosed()\n        .subscribe((data: { name: string, description: string }) => {\n          if (Util.isDefined(data) && data) {\n            this.savePreferences(data, true);\n          }\n        });\n    }\n\n  }\n\n  savePreferences(data: any, update?: boolean) {\n    let preference = {\n      \"name\": data.name, \"description\": data.description,\n      \"entity\": this.currentPreference.entity, \"service\": this.currentPreference.service, \"type\": \"REPORT\", \"params\": {\n        \"title\": this.currentPreference.title, \"groups\": this.currentPreference.groups,\n        \"vertical\": this.currentPreference.vertical, \"functions\": this.currentPreference.functions, \"style\": this.currentPreference.style,\n        \"subtitle\": this.currentPreference.subtitle, \"columns\": this.currentPreference.columns, \"orderBy\": this.currentPreference.orderBy, \"entity\": this.currentPreference.entity, \"service\": this.currentPreference.service\n      }\n    }\n\n    if (update) {\n      this.reportService.savePreferences(this.currentConfiguration.ID, preference).subscribe(res => {\n        this.showConfirmOperatinInSnackBar(res);\n      });\n    } else {\n      this.reportService.saveAsPreferences(preference).subscribe(res => {\n        if (res && res.code === 0) {\n          this.showConfirmOperatinInSnackBar(res);\n        }\n      });\n    }\n  }\n\n  private showConfirmOperatinInSnackBar(res: any) {\n    if (res && res.code === 0) {\n      this.snackBarService.open('MESSAGES.SAVED', { icon: 'check_circle' });\n    }\n  }\n\n  setFullscreenDialog(): void {\n    Utils.setFullscreenDialog(this.fullscreen, this.dialogRef);\n    this.fullscreen = !this.fullscreen;\n  }\n\n  onSelectionChangeColumns(event: MatSelectionListChange) {\n    const selectedColumn: OReportColumn = event.option.value;\n    const selectColumnId = selectedColumn.id;\n    this.updateColumnsOrderByData(selectColumnId, event);\n\n  }\n\n  onSelectionChangeGroups(event: MatSelectionListChange) {\n    if (!event.option.selected) return;\n    let groupSelected: string = event.option.value;\n    this.updateColumnsOrderByData(groupSelected, event);\n    if (event.option.selected &&\n      this.currentPreference.columns.findIndex(x => x.id === groupSelected) === -1) {\n      const columnStyleSelected: OReportColumn[] = this.columnsData.filter((x: OReportColumn) => x.id === groupSelected)\n      if (columnStyleSelected.length > 0) {\n        this.addColumnData(columnStyleSelected[0]);\n      }\n    }\n  }\n\n\n  updateColumnsOrderByData(columnId: string, event?: MatSelectionListChange) {\n\n    if (!event) {\n      const existColumn = this.columnsArray.findIndex(col => col === columnId);\n      if (existColumn === -1) {\n        console.warn('The loaded configuration has the column ' + columnId + ' configured but this column does not exist as a table column');\n        return;\n      }\n    }\n\n    const columnGroupBySelected: OReportOrderBy = { columnId: columnId, ascendent: true }\n    let index = this.columnsOrderBy.findIndex(x => x.columnId === columnId);\n    if ((!event) || (event && event.option.selected)) {\n      if (index === -1) {\n        this.columnsOrderBy.push(columnGroupBySelected);\n      }\n    }\n    else if (index > -1) {\n      this.columnsOrderBy.splice(index);\n    }\n\n  }\n\n\n  addColumnData(columnSelected) {\n    //Object Deep Cloning\n    let currentPreference = Utils.cloneObject(this.currentPreference);\n    currentPreference.columns.push(columnSelected);\n    this.currentPreference = currentPreference;\n    this.updateColumnsSort();\n  }\n\n  onSelectionChangeFunctions(event: MatSelectionListChange) {\n    if (!event.option.selected || event.option.value.columnName === 'TOTAL') return;\n    const functionSelect = event.option.value;\n    const columnSelectedToGroup = functionSelect.columnName;\n\n    if (event.option.selected &&\n      this.currentPreference.columns.findIndex(x => x.id === columnSelectedToGroup) === -1) {\n      const column = this.columnsData.find(x => x.id === columnSelectedToGroup);\n      this.addColumnData(column);\n    }\n  }\n\n\n  changeOrder(column: OReportOrderBy, event) {\n    const columnSelectedToOrder = this.columnsOrderBy.find(x => x.columnId === column.columnId);\n    if (columnSelectedToOrder) {\n      columnSelectedToOrder.ascendent = !columnSelectedToOrder.ascendent;\n    }\n    event.stopPropagation();\n  }\n\n  isCheckedColumn(column: OReportColumn) {\n    return this.currentPreference.columns.length > 0 ? this.currentPreference.columns.filter(x => x.id === column.id).length > 0 : false;\n  }\n\n  isCheckedFunction(column: OReportFunction) {\n    return this.currentPreference.functions.length > 0 ? this.currentPreference.functions.filter(x => (x.columnName === column.columnName && x.type === column.type) && x.type !== 'TOTAL').length > 0 : false;\n  }\n\n  columnsOrderByCompareFunction(co1: OReportOrderBy, co2: OReportOrderBy) {\n    return co1.columnId === co2.columnId;\n  }\n\n  onCheckboxStyleClick(value) {\n    if (this.currentPreference.style[value]) {\n      this.currentPreference.style[value] = false;\n    } else {\n      this.currentPreference.style[value] = true;\n    }\n  }\n\n  columnsCompareFunction(co1: OReportColumn, co2: OReportColumn) {\n    return co1.id === co2.id;\n  }\n\n  functionsCompareFunction(co1: OReportFunction, co2: OReportFunction) {\n    return co1.columnName === co2.columnName;\n  }\n\n\n\n  protected createRenderer(column: string): any {\n    let oColumn: OColumn = this.table.oTableOptions.columns.find(x => x.attr === column);\n    let newRenderer: any;\n    if (Util.isDefined(oColumn) && Util.isDefined(oColumn.type) && oColumn.type !== 'string') {\n      const type = oColumn.type;\n      newRenderer = {};\n\n      let columnRenderer: any = oColumn.renderer;\n      switch (type) {\n        case 'currency':\n          newRenderer.type = type\n          newRenderer.currencySymbol = columnRenderer.currencySymbol;\n          newRenderer.currencySymbolPosition = columnRenderer.currencySymbolPosition;\n          break;\n        case 'date':\n          newRenderer.type = type\n          newRenderer.format = columnRenderer.format;\n          break;\n        case 'integer':\n          newRenderer.type = type\n          newRenderer.grouping = columnRenderer.grouping;\n          newRenderer.thousandSeparator = columnRenderer.thousandSeparator;\n          break;\n        case 'real':\n          newRenderer.type = type\n          newRenderer.decimalSeparator = columnRenderer.decimalSeparator;\n          newRenderer.grouping = columnRenderer.grouping;\n          newRenderer.thousandSeparator = columnRenderer.thousandSeparator;\n          break;\n        case 'service':\n          newRenderer.type = type\n          newRenderer.entity = columnRenderer.entity;\n          newRenderer.service = columnRenderer.service;\n          newRenderer.keyColumn = oColumn.attr;\n          newRenderer.columns = Util.parseArray(columnRenderer.columns);\n          newRenderer.valueColumn = columnRenderer.valueColumn;\n          newRenderer.parentKeys = Util.parseArray(columnRenderer.parentKeys);\n          const serviceConfiguration = this.getDefaultServiceConfiguration(columnRenderer.service);\n          if (Util.isObject(serviceConfiguration) && Object.hasOwnProperty(serviceConfiguration.path)) {\n            newRenderer.path = serviceConfiguration.path;\n          }\n          break;\n      }\n    }\n    return newRenderer;\n  }\n}\n\n","import { Injectable, Injector } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { DialogService, IReportService, OTableComponent } from 'ontimize-web-ngx';\nimport { ReportOnDemandComponent } from '../components/report-on-demand/report-on-demand/report-on-demand.component';\nimport { Utils } from '../util/utils';\n\n\n@Injectable({ providedIn: 'root' })\nexport class OntimizeReportService implements IReportService {\n  protected dialogService: DialogService;\n  protected dialog: MatDialog;\n\n  constructor(\n    private injector: Injector\n  ) {\n    this.dialogService = this.injector.get<DialogService>(DialogService);\n    this.dialog = this.injector.get<MatDialog>(MatDialog);\n  }\n\n  openReportOnDemand(table: OTableComponent) {\n    Utils.openModalVisor(this.dialog, ReportOnDemandComponent, table);\n  }\n\n}\n","import { Injector } from \"@angular/core\";\nimport { O_REPORT_SERVICE } from \"ontimize-web-ngx\";\nimport { OAlertService } from \"../services/o-alert.service\";\nimport { OReportStoreService } from \"../services/o-report-store.service\";\nimport { OReportService } from \"../services/o-report.service\";\nimport { OntimizeReportService } from \"../services/ontimize-report.service\";\n\nexport function reportServiceFactory(injector: Injector): OReportService {\n  return new OReportService(injector);\n}\n\nexport const OREPORT_PROVIDERS: any = [{ provide: O_REPORT_SERVICE, useClass: OntimizeReportService },\n{\n  provide: 'report',\n  useFactory: reportServiceFactory,\n  deps: [Injector]\n},\n  OAlertService, OReportStoreService\n];","import { Component, ViewChild } from '@angular/core';\nimport { OTableComponent } from 'ontimize-web-ngx';\nimport { OAlertService } from '../../../services/o-alert.service';\n\n@Component({\n  selector: 'o-report-home',\n  templateUrl: './o-report-home.component.html'\n})\nexport class OReportHomeComponent {\n\n  @ViewChild('table', { static: true })\n  table: OTableComponent;\n\n  constructor(private alertService: OAlertService) {\n    alertService.alert$.subscribe(\n      _res => {\n        this.table.refresh();\n      });\n  }\n\n}\n","import { Component, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { DialogService, OFileInputComponent, OFormComponent, OTextInputComponent } from 'ontimize-web-ngx';\nimport { Subscription } from 'rxjs';\nimport { OAlertService } from '../../../services/o-alert.service';\n\n@Component({\n  selector: 'o-report-new',\n  templateUrl: './o-report-new.component.html',\n  styleUrls: ['./o-report-new.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.app-report-store-new]': 'true'\n  }\n})\nexport class OReportNewComponent {\n\n  @ViewChild('name', { static: true })\n  name: OTextInputComponent;\n  @ViewChild('type', { static: true })\n  type: OTextInputComponent;\n  @ViewChild('description', { static: true })\n  description: OTextInputComponent;\n  @ViewChild('form', { static: true })\n  form: OFormComponent;\n  @ViewChild('file', { static: true })\n  file: OFileInputComponent;\n\n  subscription: Subscription;\n  loading: boolean = false;\n\n  constructor(\n    private alertService: OAlertService,\n    private dialogService: DialogService\n  ) { }\n\n  getFileData() {\n    return {\n      'name': this.name.getValue(),\n      'type': this.type.getValue(),\n      'description': this.description.getValue(),\n    };\n  }\n\n  onUploadFile() {\n    this.loading = false;\n    this.confirm();\n    this.form._clearAndCloseFormAfterInsert();\n  }\n\n  onError() {\n    if (this.dialogService) {\n      this.dialogService.error('ERROR',\n        'SERVER_ERROR_MESSAGE');\n      this.loading = false;\n    }\n  }\n\n  confirm() {\n    this.alertService.announceAlert('alert');\n  }\n\n  onClickSave(e: Event) {\n    Object.keys(this.form.formGroup.controls).forEach((control) => {\n      this.form.formGroup.controls[control].markAsTouched();\n    });\n\n    if (!this.form.formGroup.valid) {\n      this.dialogService.alert('ERROR', 'MESSAGES.FORM_VALIDATION_ERROR');\n      return;\n    }\n    this.loading = true;\n    this.file.onClickUpload(e);\n  }\n\n}\n","import { Component, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { DialogService, OFormComponent, OTextInputComponent } from 'ontimize-web-ngx';\nimport { Constants } from '../../../util/constants';\nimport { OReportViewerComponent } from '../o-report-viewer/o-report-viewer.component';\n\n@Component({\n  selector: 'o-report-detail',\n  templateUrl: './o-report-detail.component.html'\n})\nexport class OReportDetailComponent {\n\n  @ViewChild('id', { static: true })\n  id: OTextInputComponent;\n  @ViewChild('paramForm', { static: false })\n  paramForm: OFormComponent;\n\n  private values: string[];\n\n  public parameters: [];\n  private av: string[];\n  public hasParams: boolean = false;\n\n  constructor(\n    protected dialogService: DialogService,\n    protected dialog: MatDialog,\n  ) { }\n\n\n  private getValues() {\n    for (let i = 0; i < this.parameters.length; i++) {\n      let v = this.paramForm.getFieldValue('value' + i);\n      this.values.push(v);\n    }\n  }\n\n  public fillReport() {\n    this.values = [];\n    this.av = [this.id.getValue()]\n    if (this.parameters.length > 0) {\n      this.getValues();\n      let size = this.values.length;\n      for (let i = 0; i < size; i++)\n        this.av.push(this.values.shift());\n    }\n\n\n    this.dialog.open(OReportViewerComponent, {\n      height: Constants.DEFAULT_HEIGHT_DIALOG,\n      width: Constants.DEFAULT_HEIGHT_DIALOG,\n      data: {\n        'params': this.av,\n        'filter': {}\n      }\n\n    });\n  }\n\n  onDataLoaded(e: object) {\n    this.parameters = e['PARAMETERS'];\n    if (this.parameters.length > 0) {\n      this.hasParams = true;\n    }\n  }\n\n}\n","export const MAP = {\n\n  // English\n  en: {\n    'REPORT_ON_DEMAND_TITLE': 'Dynamic Reports',\n\n    'BUTTONS.SAVE_CONFIGURATION': 'Save configuration',\n    'BUTTONS.SAVEAS_CONFIGURATION': 'Save as configuration',\n    'BUTTONS.APPLY_CONFIGURATION': 'Load configuration',\n\n    'TITLE': 'Title',\n    'SUBTITLE': 'Subtitle',\n    'ORIENTATION': 'Orientation',\n    'STYLE': 'Style',\n    'COLUMNS': 'Columns to print',\n    'GROUPS': 'Groups',\n    'FUNCTIONS': 'Functions',\n    'PREVIEW': 'Preview',\n    'COLUMN_CONFIGURATION': 'Column Configuration',\n    'SAVE_COLUMN_CONFIGURATION': 'Enter a name, a with and a alignment for the column',\n    'GRID': 'Draw grid',\n    'ROW_NUMBER': 'Row numbers',\n    'COLUMNS_NAMES': 'Column names',\n    'GROUP_DETAILS': 'Hide group details',\n    'GROUP_PAGE': 'Group in page',\n    'BACKGROUND_ODD_ROWS': 'Background on odd rows',\n    'FIRST_GROUP_PAGE': 'First group in page',\n    'DIALOG.SELECT_FUNCTION.TITLE': 'Select function',\n    'DIALOG.SELECT_FUNCTION.DESCRIPTION': 'Select one of the following functions',\n    'COLUMN_NAME': 'Column name',\n    'COLUMN_WIDTH': 'Column width',\n    'DIALOG.SELECT_FUNCTION.MIN': 'Minumun',\n    'DIALOG.SELECT_FUNCTION.MAX': 'Maximun',\n    'DIALOG.SELECT_FUNCTION.AVG': 'Average',\n    'DIALOG.SELECT_FUNCTION.SUM': 'Sum',\n    'ORDER_BY': 'Order by',\n    'CLEAR': 'Clear',\n    'MIN': 'Minumun',\n    'MAX': 'Maximun',\n    'AVERAGE': 'Average',\n    'SUM': 'Sum',\n    'TOTAL': 'Total'\n  },\n\n  // Spanish\n  es: {\n    'REPORT_ON_DEMAND_TITLE': 'Informes Dinámicos',\n\n    'BUTTONS.SAVE_CONFIGURATION': 'Guardar configuración',\n    'BUTTONS.SAVEAS_CONFIGURATION': 'Guardar configuración como',\n    'BUTTONS.APPLY_CONFIGURATION': 'Aplicar configuración',\n\n    'TITLE': 'Título',\n    'SUBTITLE': 'Subtítulo',\n    'ORIENTATION': 'Orientación',\n    'STYLE': 'Estilo',\n    'COLUMNS': 'Columnas a imprimir',\n    'GROUPS': 'Grupos',\n    'FUNCTIONS': 'Funciones',\n    'PREVIEW': 'Previsualizar',\n    'COLUMN_CONFIGURATION': 'Configuración de columna',\n    'SAVE_COLUMN_CONFIGURATION': 'Introduzca un nombre, un ancho y una alineación para la columna',\n    'GRID': 'Dibujar rejilla',\n    'ROW_NUMBER': 'Números de fila',\n    'COLUMNS_NAMES': 'Nombre de columnas',\n    'GROUP_DETAILS': 'Ocultar detalles grupo',\n    'GROUP_PAGE': 'Grupo en página',\n    'BACKGROUND_ODD_ROWS': 'Fondo sobre filas impares',\n    'FIRST_GROUP_PAGE': 'Primer grupo en página',\n    'DIALOG.SELECT_FUNCTION.TITLE': 'Seleccionar función',\n    'DIALOG.SELECT_FUNCTION.DESCRIPTION': 'Seleccione una de las siguientes funciones',\n    'COLUMN_NAME': 'Nombre de la columna',\n    'COLUMN_WIDTH': 'Ancho de la columna',\n    'DIALOG.SELECT_FUNCTION.MIN': 'Mínimo',\n    'DIALOG.SELECT_FUNCTION.MAX': 'Máximo',\n    'DIALOG.SELECT_FUNCTION.AVG': 'Media',\n    'DIALOG.SELECT_FUNCTION.SUM': 'Suma',\n    'ORDER_BY': 'Ordenar por',\n    'CLEAR': 'Limpiar',\n    'MIN': 'Mínimo',\n    'MAX': 'Máximo',\n    'AVERAGE': 'Media',\n    'SUM': 'Suma',\n    'TOTAL': 'Total'\n  }\n\n};\n","import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { OTranslateService } from 'ontimize-web-ngx';\nimport * as CORE_TRANSLATIONS from '../i18n/i18n';\n\n@Pipe({\n  name: 'oReportsTranslate',\n  pure: false\n})\nexport class OReportsTranslatePipe implements PipeTransform {\n\n  protected translateService: OTranslateService;\n\n  constructor(protected injector: Injector) {\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  transform(text: string): string {\n    let textTranslated = undefined;\n    let bundle = CORE_TRANSLATIONS.MAP[this.translateService.getCurrentLang()];\n    if (bundle && bundle[text]) {\n      textTranslated = bundle[text];\n    } else {\n      textTranslated = this.translateService.get(text);\n    }\n    return textTranslated;\n  }\n\n}\n","import { FlexLayoutModule } from '@angular/flex-layout';\nimport { NgxExtendedPdfViewerModule } from 'ngx-extended-pdf-viewer';\nimport { OntimizeWebModule } from 'ontimize-web-ngx';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { CommonModule } from '@angular/common';\nimport { OReportHomeComponent } from '../components/report/o-report-home/o-report-home.component';\nimport { OReportNewComponent } from '../components/report/o-report-new/o-report-new.component';\nimport { OReportDetailComponent } from '../components/report/o-report-detail/o-report-detail.component';\nimport { OReportViewerComponent } from '../components/report/o-report-viewer/o-report-viewer.component';\nimport { ReportOnDemandComponent } from '../components/report-on-demand/report-on-demand/report-on-demand.component';\nimport { StyleDialogComponent } from '../components/report-on-demand/style-dialog/style-dialog.component';\nimport { SelectFunctionDialogComponent } from '../components/report-on-demand/select-function-dialog/select-function-dialog.component';\nimport { SavePreferencesDialogComponent } from '../components/report-on-demand/save-preferences-dialog/save-preferences-dialog.component';\nimport { ApplyConfigurationDialogComponent } from '../components/report-on-demand/apply-configuration/apply-configuration-dialog.component';\nimport { OReportsTranslatePipe } from '../util/o-reports-translate.pipe';\n\n\nexport const OREPORT_DECLARATION_MODULES: any = [\n  OReportHomeComponent,\n  OReportNewComponent,\n  OReportDetailComponent,\n  OReportViewerComponent,\n  ReportOnDemandComponent,\n  StyleDialogComponent,\n  SelectFunctionDialogComponent,\n  SavePreferencesDialogComponent,\n  ApplyConfigurationDialogComponent,\n  OReportsTranslatePipe\n];\nexport const OREPORT_IMPORTS_MODULES: any = [\n  CommonModule,\n  OntimizeWebModule,\n  NgxExtendedPdfViewerModule,\n  FlexLayoutModule,\n  DragDropModule\n]\nexport const OREPORT_EXPORT_MODULES: any = [];\nexport const OREPORT_ENTRY_COMPONENTS_MODULES: any = [\n  OReportViewerComponent,\n  ReportOnDemandComponent,\n  StyleDialogComponent,\n  SelectFunctionDialogComponent,\n  SavePreferencesDialogComponent,\n  ApplyConfigurationDialogComponent\n]","import { NgModule } from '@angular/core';\nimport { OREPORT_PROVIDERS } from './config/o-providers';\nimport { OREPORT_DECLARATION_MODULES, OREPORT_ENTRY_COMPONENTS_MODULES, OREPORT_IMPORTS_MODULES } from './config/o-components';\n\n@NgModule({\n  declarations: OREPORT_DECLARATION_MODULES,\n  imports: OREPORT_IMPORTS_MODULES,\n  providers: OREPORT_PROVIDERS,\n  entryComponents: OREPORT_ENTRY_COMPONENTS_MODULES\n})\n\nexport class OReportModule { }\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { OReportDetailComponent } from \"./o-report-detail/o-report-detail.component\";\nimport { OReportNewComponent } from \"./o-report-new/o-report-new.component\";\nimport { OReportHomeComponent } from \"./o-report-home/o-report-home.component\";\n\nconst routes: Routes = [{\n  path: '',\n  component: OReportHomeComponent\n},{\n  path: 'new',\n  component: OReportNewComponent\n},{\n  path: ':UUID',\n  component: OReportDetailComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class OReportRoutingModule { }\n","export interface IReportRenderer {\n  type: string;\n}"],"names":["MatDialogRef","MAT_DIALOG_DATA","MatDialog","CORE_TRANSLATIONS.MAP"],"mappings":"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"}