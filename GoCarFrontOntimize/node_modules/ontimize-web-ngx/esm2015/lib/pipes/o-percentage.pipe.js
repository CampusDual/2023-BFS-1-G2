import { Injector, Pipe } from '@angular/core';
import { ORealPipe } from './o-real.pipe';
export class OPercentPipe extends ORealPipe {
    constructor(injector) {
        super(injector);
        this.injector = injector;
    }
    transform(text, args) {
        if (args && args.valueBase) {
            args.valueBase = this.parseValueBase(args.valueBase);
        }
        return this.numberService.getPercentValue(text, args);
    }
    parseValueBase(value) {
        const parsed = parseInt(value, 10);
        if (parsed === 1 || parsed === 100) {
            return parsed;
        }
        return 1;
    }
}
OPercentPipe.decorators = [
    { type: Pipe, args: [{
                name: 'oPercent',
                pure: false
            },] }
];
OPercentPipe.ctorParameters = () => [
    { type: Injector }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiby1wZXJjZW50YWdlLnBpcGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9vbnRpbWl6ZS13ZWItbmd4LyIsInNvdXJjZXMiOlsibGliL3BpcGVzL28tcGVyY2VudGFnZS5waXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFpQixNQUFNLGVBQWUsQ0FBQztBQUM5RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBa0IxQyxNQUFNLE9BQU8sWUFBYSxTQUFRLFNBQVM7SUFFekMsWUFBc0IsUUFBa0I7UUFDdEMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBREksYUFBUSxHQUFSLFFBQVEsQ0FBVTtJQUV4QyxDQUFDO0lBRUQsU0FBUyxDQUFDLElBQVksRUFBRSxJQUEwQjtRQUNoRCxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDdEQ7UUFDRCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRVMsY0FBYyxDQUFDLEtBQStCO1FBQ3RELE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxLQUFZLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDMUMsSUFBSSxNQUFNLEtBQUssQ0FBQyxJQUFJLE1BQU0sS0FBSyxHQUFHLEVBQUU7WUFDbEMsT0FBTyxNQUFNLENBQUM7U0FDZjtRQUNELE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQzs7O1lBdkJGLElBQUksU0FBQztnQkFDSixJQUFJLEVBQUUsVUFBVTtnQkFDaEIsSUFBSSxFQUFFLEtBQUs7YUFDWjs7O1lBbEJRLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RvciwgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT1JlYWxQaXBlIH0gZnJvbSAnLi9vLXJlYWwucGlwZSc7XG5cbmV4cG9ydCB0eXBlIE9QZXJjZW50YWdlVmFsdWVCYXNlVHlwZSA9IDEgfCAxMDA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBlcmNlbnRQaXBlQXJndW1lbnQge1xuICBncm91cGluZz86IGJvb2xlYW47XG4gIHRob3VzYW5kU2VwYXJhdG9yPzogc3RyaW5nO1xuICBsb2NhbGU/OiBzdHJpbmc7XG4gIGRlY2ltYWxTZXBhcmF0b3I/OiBzdHJpbmc7XG4gIG1pbkRlY2ltYWxEaWdpdHM/OiBudW1iZXI7XG4gIG1heERlY2ltYWxEaWdpdHM/OiBudW1iZXI7XG4gIHZhbHVlQmFzZT86IE9QZXJjZW50YWdlVmFsdWVCYXNlVHlwZTtcbn1cblxuQFBpcGUoe1xuICBuYW1lOiAnb1BlcmNlbnQnLFxuICBwdXJlOiBmYWxzZVxufSlcbmV4cG9ydCBjbGFzcyBPUGVyY2VudFBpcGUgZXh0ZW5kcyBPUmVhbFBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaW5qZWN0b3I6IEluamVjdG9yKSB7XG4gICAgc3VwZXIoaW5qZWN0b3IpO1xuICB9XG5cbiAgdHJhbnNmb3JtKHRleHQ6IHN0cmluZywgYXJnczogSVBlcmNlbnRQaXBlQXJndW1lbnQpOiBzdHJpbmcge1xuICAgIGlmIChhcmdzICYmIGFyZ3MudmFsdWVCYXNlKSB7XG4gICAgICBhcmdzLnZhbHVlQmFzZSA9IHRoaXMucGFyc2VWYWx1ZUJhc2UoYXJncy52YWx1ZUJhc2UpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5udW1iZXJTZXJ2aWNlLmdldFBlcmNlbnRWYWx1ZSh0ZXh0LCBhcmdzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwYXJzZVZhbHVlQmFzZSh2YWx1ZTogT1BlcmNlbnRhZ2VWYWx1ZUJhc2VUeXBlKTogT1BlcmNlbnRhZ2VWYWx1ZUJhc2VUeXBlIHtcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSBhcyBhbnksIDEwKTtcbiAgICBpZiAocGFyc2VkID09PSAxIHx8IHBhcnNlZCA9PT0gMTAwKSB7XG4gICAgICByZXR1cm4gcGFyc2VkO1xuICAgIH1cbiAgICByZXR1cm4gMTtcbiAgfVxuXG59XG4iXX0=