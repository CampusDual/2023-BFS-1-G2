import { Component, ElementRef, forwardRef, Inject, Injector, Optional, Renderer2, ViewEncapsulation, } from '@angular/core';
import { OListItemComponent } from '../../list-item/o-list-item.component';
import { DEFAULT_INPUTS_O_TEXT_RENDERER, DEFAULT_OUTPUTS_O_TEXT_RENDERER, OListItemTextRenderer, } from '../o-list-item-text-renderer.class';
export const DEFAULT_INPUTS_O_LIST_ITEM_AVATAR = [
    ...DEFAULT_INPUTS_O_TEXT_RENDERER,
    'avatar',
    'emptyAvatar: empty-avatar',
    'avatarType: avatar-type'
];
export const DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR = [
    ...DEFAULT_OUTPUTS_O_TEXT_RENDERER
];
export class OListItemAvatarComponent extends OListItemTextRenderer {
    constructor(elRef, _renderer, _injector, _listItem) {
        super(elRef, _renderer, _injector, _listItem);
        this._listItem = _listItem;
    }
    ngAfterViewInit() {
        this.modifyMatListItemElement();
    }
    ngOnInit() {
        let avatarValue = this.avatar;
        if (!this.avatar) {
            avatarValue = this.emptyAvatar;
        }
        else {
            switch (this.avatarType) {
                case 'base64':
                    avatarValue = ('data:image/png;base64,' + ((typeof (avatarValue.bytes) !== 'undefined') ? avatarValue.bytes : avatarValue));
                    break;
                case 'url':
                default:
                    avatarValue = this.avatar;
                    break;
            }
        }
        this.avatarSrc = avatarValue;
    }
}
OListItemAvatarComponent.decorators = [
    { type: Component, args: [{
                selector: 'o-list-item-avatar',
                template: "<div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n  <img matListAvatar class=\"avatar\" [src]=\"avatarSrc | oSafe:'resourceUrl'\" [alt]=\"title\">\n  <div class=\"mat-list-text\">\n    <h3 matLine class=\"primary-text\"> {{ title }} </h3>\n    <h4 *ngIf=\"primaryText !== undefined\" matLine class=\"primary-text\">{{ primaryText }}</h4>\n    <p *ngIf=\"secondaryText !== undefined\" matLine class=\"secondary-text\">{{ secondaryText }}</p>\n  </div>\n  <mat-icon *ngIf=\"icon !== undefined\" class=\"material-icons o-list-item-icon\" (click)=\"onActionIconClick($event)\">{{ icon\n    }}\n  </mat-icon>\n</div>\n",
                inputs: DEFAULT_INPUTS_O_LIST_ITEM_AVATAR,
                outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR,
                encapsulation: ViewEncapsulation.None,
                host: {
                    '[class.o-custom-list-item]': 'true',
                    '[class.o-list-item-avatar]': 'true'
                },
                styles: [".o-list-row-action+.o-list-item-avatar{padding:0 0 0 10px}.mat-list.selectable .o-list-item-avatar .mat-list-text{padding-right:0}.mat-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text,.mat-nav-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text{padding:0 16px}"]
            }] }
];
OListItemAvatarComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 },
    { type: Injector },
    { type: OListItemComponent, decorators: [{ type: Optional }, { type: Inject, args: [forwardRef(() => OListItemComponent),] }] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiby1saXN0LWl0ZW0tYXZhdGFyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL29udGltaXplLXdlYi1uZ3gvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9saXN0L3JlbmRlcmVycy9hdmF0YXIvby1saXN0LWl0ZW0tYXZhdGFyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBRUwsU0FBUyxFQUNULFVBQVUsRUFDVixVQUFVLEVBQ1YsTUFBTSxFQUNOLFFBQVEsRUFFUixRQUFRLEVBQ1IsU0FBUyxFQUNULGlCQUFpQixHQUNsQixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUMzRSxPQUFPLEVBQ0wsOEJBQThCLEVBQzlCLCtCQUErQixFQUMvQixxQkFBcUIsR0FDdEIsTUFBTSxvQ0FBb0MsQ0FBQztBQUU1QyxNQUFNLENBQUMsTUFBTSxpQ0FBaUMsR0FBRztJQUMvQyxHQUFHLDhCQUE4QjtJQUNqQyxRQUFRO0lBQ1IsMkJBQTJCO0lBRTNCLHlCQUF5QjtDQUMxQixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sa0NBQWtDLEdBQUc7SUFDaEQsR0FBRywrQkFBK0I7Q0FDbkMsQ0FBQztBQWNGLE1BQU0sT0FBTyx3QkFBeUIsU0FBUSxxQkFBcUI7SUFRakUsWUFDRSxLQUFpQixFQUNqQixTQUFvQixFQUNwQixTQUFtQixFQUNpRCxTQUE2QjtRQUVqRyxLQUFLLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFGc0IsY0FBUyxHQUFULFNBQVMsQ0FBb0I7SUFHbkcsQ0FBQztJQUVELGVBQWU7UUFDYixJQUFJLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztJQUNsQyxDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksV0FBVyxHQUFRLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDaEIsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7U0FDaEM7YUFBTTtZQUNMLFFBQVEsSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDdkIsS0FBSyxRQUFRO29CQUNYLFdBQVcsR0FBRyxDQUFDLHdCQUF3QixHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUM1SCxNQUFNO2dCQUNSLEtBQUssS0FBSyxDQUFDO2dCQUNYO29CQUNFLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO29CQUMxQixNQUFNO2FBQ1Q7U0FDRjtRQUNELElBQUksQ0FBQyxTQUFTLEdBQUcsV0FBVyxDQUFDO0lBQy9CLENBQUM7OztZQWpERixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLG9CQUFvQjtnQkFDOUIsdW5CQUFrRDtnQkFFbEQsTUFBTSxFQUFFLGlDQUFpQztnQkFDekMsT0FBTyxFQUFFLGtDQUFrQztnQkFDM0MsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7Z0JBQ3JDLElBQUksRUFBRTtvQkFDSiw0QkFBNEIsRUFBRSxNQUFNO29CQUNwQyw0QkFBNEIsRUFBRSxNQUFNO2lCQUNyQzs7YUFDRjs7O1lBeENDLFVBQVU7WUFNVixTQUFTO1lBSFQsUUFBUTtZQU9ELGtCQUFrQix1QkEyQ3RCLFFBQVEsWUFBSSxNQUFNLFNBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBmb3J3YXJkUmVmLFxuICBJbmplY3QsXG4gIEluamVjdG9yLFxuICBPbkluaXQsXG4gIE9wdGlvbmFsLFxuICBSZW5kZXJlcjIsXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgT0xpc3RJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbGlzdC1pdGVtL28tbGlzdC1pdGVtLmNvbXBvbmVudCc7XG5pbXBvcnQge1xuICBERUZBVUxUX0lOUFVUU19PX1RFWFRfUkVOREVSRVIsXG4gIERFRkFVTFRfT1VUUFVUU19PX1RFWFRfUkVOREVSRVIsXG4gIE9MaXN0SXRlbVRleHRSZW5kZXJlcixcbn0gZnJvbSAnLi4vby1saXN0LWl0ZW0tdGV4dC1yZW5kZXJlci5jbGFzcyc7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0lOUFVUU19PX0xJU1RfSVRFTV9BVkFUQVIgPSBbXG4gIC4uLkRFRkFVTFRfSU5QVVRTX09fVEVYVF9SRU5ERVJFUixcbiAgJ2F2YXRhcicsXG4gICdlbXB0eUF2YXRhcjogZW1wdHktYXZhdGFyJyxcbiAgLy8gYXZhdGFyLXR5cGUgW2Jhc2U2NHx1cmxdOiBhdmF0YXIgdHlwZSAoZXh0ZXJuIHVybCBvciBiYXNlNjQpLiBEZWZhdWx0OiBubyB2YWx1ZS5cbiAgJ2F2YXRhclR5cGU6IGF2YXRhci10eXBlJ1xuXTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfT1VUUFVUU19PX0xJU1RfSVRFTV9BVkFUQVIgPSBbXG4gIC4uLkRFRkFVTFRfT1VUUFVUU19PX1RFWFRfUkVOREVSRVJcbl07XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ28tbGlzdC1pdGVtLWF2YXRhcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9vLWxpc3QtaXRlbS1hdmF0YXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9vLWxpc3QtaXRlbS1hdmF0YXIuY29tcG9uZW50LnNjc3MnXSxcbiAgaW5wdXRzOiBERUZBVUxUX0lOUFVUU19PX0xJU1RfSVRFTV9BVkFUQVIsXG4gIG91dHB1dHM6IERFRkFVTFRfT1VUUFVUU19PX0xJU1RfSVRFTV9BVkFUQVIsXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIGhvc3Q6IHtcbiAgICAnW2NsYXNzLm8tY3VzdG9tLWxpc3QtaXRlbV0nOiAndHJ1ZScsXG4gICAgJ1tjbGFzcy5vLWxpc3QtaXRlbS1hdmF0YXJdJzogJ3RydWUnXG4gIH1cbn0pXG5leHBvcnQgY2xhc3MgT0xpc3RJdGVtQXZhdGFyQ29tcG9uZW50IGV4dGVuZHMgT0xpc3RJdGVtVGV4dFJlbmRlcmVyIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25Jbml0IHtcblxuICBwdWJsaWMgYXZhdGFyU3JjOiBzdHJpbmc7XG4gIHByb3RlY3RlZCBhdmF0YXI6IHN0cmluZztcbiAgcHJvdGVjdGVkIGF2YXRhclR5cGU6IHN0cmluZztcbiAgcHJvdGVjdGVkIGVtcHR5QXZhdGFyOiBzdHJpbmc7XG5cblxuICBjb25zdHJ1Y3RvcihcbiAgICBlbFJlZjogRWxlbWVudFJlZixcbiAgICBfcmVuZGVyZXI6IFJlbmRlcmVyMixcbiAgICBfaW5qZWN0b3I6IEluamVjdG9yLFxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBPTGlzdEl0ZW1Db21wb25lbnQpKSBwcm90ZWN0ZWQgX2xpc3RJdGVtOiBPTGlzdEl0ZW1Db21wb25lbnRcbiAgKSB7XG4gICAgc3VwZXIoZWxSZWYsIF9yZW5kZXJlciwgX2luamVjdG9yLCBfbGlzdEl0ZW0pO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHRoaXMubW9kaWZ5TWF0TGlzdEl0ZW1FbGVtZW50KCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBsZXQgYXZhdGFyVmFsdWU6IGFueSA9IHRoaXMuYXZhdGFyO1xuICAgIGlmICghdGhpcy5hdmF0YXIpIHtcbiAgICAgIGF2YXRhclZhbHVlID0gdGhpcy5lbXB0eUF2YXRhcjtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoICh0aGlzLmF2YXRhclR5cGUpIHtcbiAgICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgICBhdmF0YXJWYWx1ZSA9ICgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyAoKHR5cGVvZiAoYXZhdGFyVmFsdWUuYnl0ZXMpICE9PSAndW5kZWZpbmVkJykgPyBhdmF0YXJWYWx1ZS5ieXRlcyA6IGF2YXRhclZhbHVlKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYXZhdGFyVmFsdWUgPSB0aGlzLmF2YXRhcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hdmF0YXJTcmMgPSBhdmF0YXJWYWx1ZTtcbiAgfVxuXG59XG4iXX0=