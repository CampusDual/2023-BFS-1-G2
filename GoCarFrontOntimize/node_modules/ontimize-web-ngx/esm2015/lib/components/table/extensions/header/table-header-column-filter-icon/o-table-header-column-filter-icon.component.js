import { animate, state, style, transition, trigger } from '@angular/animations';
import { ChangeDetectionStrategy, Component, forwardRef, Inject, ViewEncapsulation } from '@angular/core';
import { AnimationDurations } from '@angular/material';
import { BehaviorSubject, Subscription } from 'rxjs';
import { Util } from '../../../../../util/util';
import { OTableComponent } from '../../../o-table.component';
export const DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER_ICON = [
    'column'
];
export class OTableHeaderColumnFilterIconComponent {
    constructor(table) {
        this.table = table;
        this.isColumnFilterActive = new BehaviorSubject(false);
        this.filterIconHintVisible = new BehaviorSubject(false);
        this.indicatorNumber = new BehaviorSubject('');
        this.subscription = new Subscription();
        this.filterIconStateView = new BehaviorSubject('INACTIVE');
        this.subscription.add(this.table.onFilterByColumnChange.subscribe(() => {
            this.updateStateColumnFilter();
        }));
        this.subscription.add(this.filterIconHintVisible.subscribe((value) => {
            this.setFilterIconHintVisible(value);
        }));
    }
    ngOnInit() {
        this.updateStateColumnFilter();
    }
    updateStateColumnFilter() {
        this.indicatorNumber.next(this.getFilterIndicatorNumbered());
        this.isColumnFilterActive.next(Util.isDefined(this.getColumnValueFilterByAttr()));
        this.filterIconStateView.next(this.isColumnFilterActive.getValue() ? 'ACTIVE' : 'INACTIVE');
    }
    getColumnValueFilterByAttr() {
        const columnValueFilters = this.table.dataSource.getColumnValueFilters();
        return columnValueFilters.find(item => item.attr === this.column.attr);
    }
    openColumnFilterDialog(event) {
        this.table.openColumnFilterDialog(this.column, event);
    }
    getFilterIndicatorNumbered() {
        let result = '';
        const columnValueFilters = this.table.dataSource.getColumnValueFilters();
        if (columnValueFilters.length < 2) {
            return result;
        }
        const index = columnValueFilters.findIndex(x => x.attr === this.column.attr);
        if (index > -1) {
            result += index + 1;
        }
        return result;
    }
    setFilterIconHintVisible(visible) {
        if (this.filterIconStateView.getValue() === 'ACTIVE') {
            return;
        }
        this.filterIconStateView.next(visible ? 'HINT' : 'INACTIVE');
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
}
OTableHeaderColumnFilterIconComponent.decorators = [
    { type: Component, args: [{
                selector: 'o-table-header-column-filter-icon',
                inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER_ICON,
                template: "<mat-icon class=\"column-filter-icon\" [ngClass]=\"{'column-filter-icon-active':isColumnFilterActive | async}\"\n  (click)=\"openColumnFilterDialog($event)\" [@iconState]=\"filterIconStateView | async\">\n  filter_alt\n</mat-icon>\n<span class=\"o-table-header-indicator-numbered\">\n  {{ indicatorNumber | async }}\n</span>",
                encapsulation: ViewEncapsulation.None,
                changeDetection: ChangeDetectionStrategy.OnPush,
                host: {
                    '[class.o-table-column-filter-icon]': 'true'
                },
                animations: [
                    trigger('iconState', [
                        state('ACTIVE, HINT', style({ opacity: 1 })),
                        state('INACTIVE', style({ opacity: 0 })),
                        transition('* <=> HINT', animate(AnimationDurations.ENTERING))
                    ]),
                ],
                styles: [".o-table .o-table-container .mat-table .mat-header-cell .o-table-column-filter-icon{display:flex;position:absolute;left:0}.o-table .o-table-container .mat-table .mat-header-cell .o-table-column-filter-icon .o-table-header-indicator-numbered{right:-5px;bottom:-8px}"]
            }] }
];
OTableHeaderColumnFilterIconComponent.ctorParameters = () => [
    { type: OTableComponent, decorators: [{ type: Inject, args: [forwardRef(() => OTableComponent),] }] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiby10YWJsZS1oZWFkZXItY29sdW1uLWZpbHRlci1pY29uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL29udGltaXplLXdlYi1uZ3gvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy90YWJsZS9leHRlbnNpb25zL2hlYWRlci90YWJsZS1oZWFkZXItY29sdW1uLWZpbHRlci1pY29uL28tdGFibGUtaGVhZGVyLWNvbHVtbi1maWx0ZXItaWNvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNqRixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQXFCLGlCQUFpQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzdILE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxlQUFlLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBR3JELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVoRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFN0QsTUFBTSxDQUFDLE1BQU0seUNBQXlDLEdBQUc7SUFDdkQsUUFBUTtDQUNULENBQUE7QUFxQkQsTUFBTSxPQUFPLHFDQUFxQztJQVVoRCxZQUNvRCxLQUFzQjtRQUF0QixVQUFLLEdBQUwsS0FBSyxDQUFpQjtRQVJuRSx5QkFBb0IsR0FBNkIsSUFBSSxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUUsMEJBQXFCLEdBQTZCLElBQUksZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQzVFLG9CQUFlLEdBQTRCLElBQUksZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xFLGlCQUFZLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNuQyx3QkFBbUIsR0FBK0IsSUFBSSxlQUFlLENBQVksVUFBVSxDQUFDLENBQUM7UUFNbEcsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO1lBQ3JFLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1FBQ2pDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFSixJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFFbkUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDTixDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFFTSx1QkFBdUI7UUFDNUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUMsQ0FBQztRQUU3RCxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xGLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzlGLENBQUM7SUFFUywwQkFBMEI7UUFDbEMsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ3pFLE9BQU8sa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pFLENBQUM7SUFFTSxzQkFBc0IsQ0FBQyxLQUFLO1FBQ2pDLElBQUksQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRU0sMEJBQTBCO1FBQy9CLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUVoQixNQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFDekUsSUFBSSxrQkFBa0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ2pDLE9BQU8sTUFBTSxDQUFDO1NBQ2Y7UUFFRCxNQUFNLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0UsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDZCxNQUFNLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztTQUNyQjtRQUVELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFNRCx3QkFBd0IsQ0FBQyxPQUFnQjtRQUV2QyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsS0FBSyxRQUFRLEVBQUU7WUFBRSxPQUFPO1NBQUU7UUFDakUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2xDLENBQUM7OztZQTFGRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLG1DQUFtQztnQkFDN0MsTUFBTSxFQUFFLHlDQUF5QztnQkFDakQsZ1ZBQWlFO2dCQUVqRSxhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSTtnQkFDckMsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07Z0JBQy9DLElBQUksRUFBRTtvQkFDSixvQ0FBb0MsRUFBRSxNQUFNO2lCQUM3QztnQkFDRCxVQUFVLEVBQUU7b0JBQ1YsT0FBTyxDQUFDLFdBQVcsRUFBRTt3QkFDbkIsS0FBSyxDQUFDLGNBQWMsRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzt3QkFDNUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzt3QkFDeEMsVUFBVSxDQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUM7cUJBQy9ELENBQUM7aUJBRUg7O2FBQ0Y7OztZQXhCUSxlQUFlLHVCQW9DbkIsTUFBTSxTQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxlQUFlLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhbmltYXRlLCBzdGF0ZSwgc3R5bGUsIHRyYW5zaXRpb24sIHRyaWdnZXIgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIGZvcndhcmRSZWYsIEluamVjdCwgT25EZXN0cm95LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbmltYXRpb25EdXJhdGlvbnMgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBPQ29sdW1uVmFsdWVGaWx0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi90eXBlcy90YWJsZS9vLWNvbHVtbi12YWx1ZS1maWx0ZXIudHlwZSc7XG5pbXBvcnQgeyBVdGlsIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IE9Db2x1bW4gfSBmcm9tICcuLi8uLi8uLi9jb2x1bW4nO1xuaW1wb3J0IHsgT1RhYmxlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vLi4vby10YWJsZS5jb21wb25lbnQnO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9JTlBVVFNfT19UQUJMRV9DT0xVTU5fRklMVEVSX0lDT04gPSBbXG4gICdjb2x1bW4nXG5dXG5leHBvcnQgZGVjbGFyZSB0eXBlIFNUQVRFVklFVyA9ICdISU5UJyB8ICdBQ1RJVkUnIHwgJ0lOQUNUSVZFJ1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnby10YWJsZS1oZWFkZXItY29sdW1uLWZpbHRlci1pY29uJyxcbiAgaW5wdXRzOiBERUZBVUxUX0lOUFVUU19PX1RBQkxFX0NPTFVNTl9GSUxURVJfSUNPTixcbiAgdGVtcGxhdGVVcmw6ICcuL28tdGFibGUtaGVhZGVyLWNvbHVtbi1maWx0ZXItaWNvbi5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL28tdGFibGUtaGVhZGVyLWNvbHVtbi1maWx0ZXItaWNvbi5jb21wb25lbnQuc2NzcyddLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgaG9zdDoge1xuICAgICdbY2xhc3Muby10YWJsZS1jb2x1bW4tZmlsdGVyLWljb25dJzogJ3RydWUnXG4gIH0sXG4gIGFuaW1hdGlvbnM6IFtcbiAgICB0cmlnZ2VyKCdpY29uU3RhdGUnLCBbXG4gICAgICBzdGF0ZSgnQUNUSVZFLCBISU5UJywgc3R5bGUoeyBvcGFjaXR5OiAxIH0pKSxcbiAgICAgIHN0YXRlKCdJTkFDVElWRScsIHN0eWxlKHsgb3BhY2l0eTogMCB9KSksXG4gICAgICB0cmFuc2l0aW9uKCcqIDw9PiBISU5UJywgYW5pbWF0ZShBbmltYXRpb25EdXJhdGlvbnMuRU5URVJJTkcpKVxuICAgIF0pLFxuXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgT1RhYmxlSGVhZGVyQ29sdW1uRmlsdGVySWNvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcblxuICBwdWJsaWMgY29sdW1uOiBPQ29sdW1uO1xuICBwdWJsaWMgaXNDb2x1bW5GaWx0ZXJBY3RpdmU6IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPiA9IG5ldyBCZWhhdmlvclN1YmplY3QoZmFsc2UpO1xuICBwdWJsaWMgZmlsdGVySWNvbkhpbnRWaXNpYmxlOiBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4gPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGZhbHNlKVxuICBwdWJsaWMgaW5kaWNhdG9yTnVtYmVyOiBCZWhhdmlvclN1YmplY3Q8c3RyaW5nPiA9IG5ldyBCZWhhdmlvclN1YmplY3QoJycpO1xuICBwcml2YXRlIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgcHVibGljIGZpbHRlckljb25TdGF0ZVZpZXc6IEJlaGF2aW9yU3ViamVjdDxTVEFURVZJRVc+ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxTVEFURVZJRVc+KCdJTkFDVElWRScpO1xuXG5cbiAgY29uc3RydWN0b3IoXG4gICAgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IE9UYWJsZUNvbXBvbmVudCkpIHB1YmxpYyB0YWJsZTogT1RhYmxlQ29tcG9uZW50XG4gICkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uLmFkZCh0aGlzLnRhYmxlLm9uRmlsdGVyQnlDb2x1bW5DaGFuZ2Uuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlU3RhdGVDb2x1bW5GaWx0ZXIoKTtcbiAgICB9KSk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbi5hZGQodGhpcy5maWx0ZXJJY29uSGludFZpc2libGUuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuXG4gICAgICB0aGlzLnNldEZpbHRlckljb25IaW50VmlzaWJsZSh2YWx1ZSk7XG4gICAgfSkpO1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVTdGF0ZUNvbHVtbkZpbHRlcigpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVN0YXRlQ29sdW1uRmlsdGVyKCkge1xuICAgIHRoaXMuaW5kaWNhdG9yTnVtYmVyLm5leHQodGhpcy5nZXRGaWx0ZXJJbmRpY2F0b3JOdW1iZXJlZCgpKTtcblxuICAgIHRoaXMuaXNDb2x1bW5GaWx0ZXJBY3RpdmUubmV4dChVdGlsLmlzRGVmaW5lZCh0aGlzLmdldENvbHVtblZhbHVlRmlsdGVyQnlBdHRyKCkpKTtcbiAgICB0aGlzLmZpbHRlckljb25TdGF0ZVZpZXcubmV4dCh0aGlzLmlzQ29sdW1uRmlsdGVyQWN0aXZlLmdldFZhbHVlKCkgPyAnQUNUSVZFJyA6ICdJTkFDVElWRScpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldENvbHVtblZhbHVlRmlsdGVyQnlBdHRyKCk6IE9Db2x1bW5WYWx1ZUZpbHRlciB7XG4gICAgY29uc3QgY29sdW1uVmFsdWVGaWx0ZXJzID0gdGhpcy50YWJsZS5kYXRhU291cmNlLmdldENvbHVtblZhbHVlRmlsdGVycygpO1xuICAgIHJldHVybiBjb2x1bW5WYWx1ZUZpbHRlcnMuZmluZChpdGVtID0+IGl0ZW0uYXR0ciA9PT0gdGhpcy5jb2x1bW4uYXR0cik7XG4gIH1cblxuICBwdWJsaWMgb3BlbkNvbHVtbkZpbHRlckRpYWxvZyhldmVudCkge1xuICAgIHRoaXMudGFibGUub3BlbkNvbHVtbkZpbHRlckRpYWxvZyh0aGlzLmNvbHVtbiwgZXZlbnQpO1xuICB9XG5cbiAgcHVibGljIGdldEZpbHRlckluZGljYXRvck51bWJlcmVkKCk6IHN0cmluZyB7XG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuXG4gICAgY29uc3QgY29sdW1uVmFsdWVGaWx0ZXJzID0gdGhpcy50YWJsZS5kYXRhU291cmNlLmdldENvbHVtblZhbHVlRmlsdGVycygpO1xuICAgIGlmIChjb2x1bW5WYWx1ZUZpbHRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IGNvbHVtblZhbHVlRmlsdGVycy5maW5kSW5kZXgoeCA9PiB4LmF0dHIgPT09IHRoaXMuY29sdW1uLmF0dHIpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICByZXN1bHQgKz0gaW5kZXggKyAxO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgXCJoaW50XCIgc3RhdGUgc3VjaCB0aGF0IHRoZSBpY29uIHdpbGwgYmUgc2VtaS10cmFuc3BhcmVudGx5IGRpc3BsYXllZCBhcyBhIGhpbnQgdG8gdGhlXG4gICAqIHVzZXIgc2hvd2luZyB3aGF0IHRoZSBhY3RpdmUgZmlsdGVyIGJ5IGNvbHVtbiB3aWxsIGJlY29tZS4gSWYgc2V0IHRvIGZhbHNlLCB0aGUgaWNvbiB3aWxsIGZhZGUgYXdheS5cbiAgICovXG4gIHNldEZpbHRlckljb25IaW50VmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgLy8gTm8tb3AgaWYgdGhlIHNvcnQgaGVhZGVyIGlzIEFDVElWRSAtIHNob3VsZCBub3QgbWFrZSB0aGUgaGludCB2aXNpYmxlLlxuICAgIGlmICh0aGlzLmZpbHRlckljb25TdGF0ZVZpZXcuZ2V0VmFsdWUoKSA9PT0gJ0FDVElWRScpIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5maWx0ZXJJY29uU3RhdGVWaWV3Lm5leHQodmlzaWJsZSA/ICdISU5UJyA6ICdJTkFDVElWRScpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgfVxufVxuIl19