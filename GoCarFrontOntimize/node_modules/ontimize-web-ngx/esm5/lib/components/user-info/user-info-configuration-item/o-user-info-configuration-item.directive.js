import * as tslib_1 from "tslib";
import { Directive, Injector } from "@angular/core";
import { Router } from "@angular/router";
import { InputConverter } from "../../../decorators";
import { DialogService } from "../../../services";
export var DEFAULT_INPUTS_O_USER_INFO_MENU_ITEM = [
    'name',
    'route',
    'icon',
    'action',
    'confirm',
    'confirmText: confirm-text',
    'tooltip',
    'class'
];
var OUserInfoConfigurationItemDirective = (function () {
    function OUserInfoConfigurationItemDirective(injector) {
        this.injector = injector;
        this.toolTip = false;
        this.confirm = false;
        this.router = this.injector.get(Router);
        this.dialogService = this.injector.get(DialogService);
    }
    OUserInfoConfigurationItemDirective.prototype.triggerOnClick = function (e) {
        if (this.route) {
            this.navigate();
        }
        else {
            this.executeItemAction();
        }
    };
    OUserInfoConfigurationItemDirective.prototype.navigate = function () {
        if (this.router.url !== this.route) {
            this.router.navigate([this.route]);
        }
    };
    OUserInfoConfigurationItemDirective.prototype.executeItemAction = function () {
        var _this = this;
        if (this.confirm) {
            this.dialogService.confirm('CONFIRM', this.confirmText || 'MESSAGES.CONFIRM_ACTION').then(function (result) { return result ? _this.action() : null; });
        }
        else {
            this.action();
        }
    };
    OUserInfoConfigurationItemDirective.decorators = [
        { type: Directive, args: [{
                    selector: 'o-user-info-configuration-item',
                    inputs: DEFAULT_INPUTS_O_USER_INFO_MENU_ITEM
                },] }
    ];
    OUserInfoConfigurationItemDirective.ctorParameters = function () { return [
        { type: Injector }
    ]; };
    tslib_1.__decorate([
        InputConverter(),
        tslib_1.__metadata("design:type", Boolean)
    ], OUserInfoConfigurationItemDirective.prototype, "toolTip", void 0);
    tslib_1.__decorate([
        InputConverter(),
        tslib_1.__metadata("design:type", Boolean)
    ], OUserInfoConfigurationItemDirective.prototype, "confirm", void 0);
    return OUserInfoConfigurationItemDirective;
}());
export { OUserInfoConfigurationItemDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiby11c2VyLWluZm8tY29uZmlndXJhdGlvbi1pdGVtLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL29udGltaXplLXdlYi1uZ3gvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy91c2VyLWluZm8vdXNlci1pbmZvLWNvbmZpZ3VyYXRpb24taXRlbS9vLXVzZXItaW5mby1jb25maWd1cmF0aW9uLWl0ZW0uZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNwRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDekMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVsRCxNQUFNLENBQUMsSUFBTSxvQ0FBb0MsR0FBRztJQUNsRCxNQUFNO0lBQ04sT0FBTztJQUNQLE1BQU07SUFDTixRQUFRO0lBQ1IsU0FBUztJQUNULDJCQUEyQjtJQUMzQixTQUFTO0lBQ1QsT0FBTztDQUNSLENBQUM7QUFHRjtJQW1CRSw2Q0FBbUIsUUFBa0I7UUFBbEIsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQVhyQyxZQUFPLEdBQVksS0FBSyxDQUFDO1FBR3pCLFlBQU8sR0FBWSxLQUFLLENBQUM7UUFTdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCw0REFBYyxHQUFkLFVBQWUsQ0FBUTtRQUNyQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDakI7YUFBTTtZQUNMLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1NBQzFCO0lBQ0gsQ0FBQztJQUVELHNEQUFRLEdBQVI7UUFDRSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDbEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztTQUNwQztJQUNILENBQUM7SUFFRCwrREFBaUIsR0FBakI7UUFBQSxpQkFNQztRQUxDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQixJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFdBQVcsSUFBSSx5QkFBeUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLE1BQU0sSUFBSSxPQUFBLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQTdCLENBQTZCLENBQUMsQ0FBQztTQUNwSTthQUFNO1lBQ0wsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQ2Y7SUFDSCxDQUFDOztnQkE1Q0YsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxnQ0FBZ0M7b0JBQzFDLE1BQU0sRUFBRSxvQ0FBb0M7aUJBQzdDOzs7Z0JBcEJtQixRQUFROztJQXlCMUI7UUFEQyxjQUFjLEVBQUU7O3dFQUNRO0lBR3pCO1FBREMsY0FBYyxFQUFFOzt3RUFDUTtJQW9DM0IsMENBQUM7Q0FBQSxBQS9DRCxJQStDQztTQTFDWSxtQ0FBbUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEluamVjdG9yIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gXCJAYW5ndWxhci9yb3V0ZXJcIjtcbmltcG9ydCB7IElucHV0Q29udmVydGVyIH0gZnJvbSBcIi4uLy4uLy4uL2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IERpYWxvZ1NlcnZpY2UgfSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXNcIjtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfSU5QVVRTX09fVVNFUl9JTkZPX01FTlVfSVRFTSA9IFtcbiAgJ25hbWUnLFxuICAncm91dGUnLFxuICAnaWNvbicsXG4gICdhY3Rpb24nLFxuICAnY29uZmlybScsXG4gICdjb25maXJtVGV4dDogY29uZmlybS10ZXh0JyxcbiAgJ3Rvb2x0aXAnLFxuICAnY2xhc3MnXG5dO1xuXG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ28tdXNlci1pbmZvLWNvbmZpZ3VyYXRpb24taXRlbScsXG4gIGlucHV0czogREVGQVVMVF9JTlBVVFNfT19VU0VSX0lORk9fTUVOVV9JVEVNXG59KVxuXG5leHBvcnQgY2xhc3MgT1VzZXJJbmZvQ29uZmlndXJhdGlvbkl0ZW1EaXJlY3RpdmUge1xuXG4gIEBJbnB1dENvbnZlcnRlcigpXG4gIHRvb2xUaXA6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBASW5wdXRDb252ZXJ0ZXIoKVxuICBjb25maXJtOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcHVibGljIGFjdGlvbjogKCkgPT4gdm9pZDtcbiAgcHVibGljIHJvdXRlOiBzdHJpbmc7XG4gIHB1YmxpYyBjb25maXJtVGV4dDtcbiAgcHJvdGVjdGVkIHJvdXRlcjogUm91dGVyO1xuICBwcm90ZWN0ZWQgZGlhbG9nU2VydmljZTogRGlhbG9nU2VydmljZTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgaW5qZWN0b3I6IEluamVjdG9yKSB7XG4gICAgdGhpcy5yb3V0ZXIgPSB0aGlzLmluamVjdG9yLmdldChSb3V0ZXIpO1xuICAgIHRoaXMuZGlhbG9nU2VydmljZSA9IHRoaXMuaW5qZWN0b3IuZ2V0KERpYWxvZ1NlcnZpY2UpO1xuICB9XG5cbiAgdHJpZ2dlck9uQ2xpY2soZTogRXZlbnQpIHtcbiAgICBpZiAodGhpcy5yb3V0ZSkge1xuICAgICAgdGhpcy5uYXZpZ2F0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmV4ZWN1dGVJdGVtQWN0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgbmF2aWdhdGUoKSB7XG4gICAgaWYgKHRoaXMucm91dGVyLnVybCAhPT0gdGhpcy5yb3V0ZSkge1xuICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3RoaXMucm91dGVdKTtcbiAgICB9XG4gIH1cblxuICBleGVjdXRlSXRlbUFjdGlvbigpIHtcbiAgICBpZiAodGhpcy5jb25maXJtKSB7XG4gICAgICB0aGlzLmRpYWxvZ1NlcnZpY2UuY29uZmlybSgnQ09ORklSTScsIHRoaXMuY29uZmlybVRleHQgfHwgJ01FU1NBR0VTLkNPTkZJUk1fQUNUSU9OJykudGhlbihyZXN1bHQgPT4gcmVzdWx0ID8gdGhpcy5hY3Rpb24oKSA6IG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjdGlvbigpO1xuICAgIH1cbiAgfVxuXG5cbn0iXX0=