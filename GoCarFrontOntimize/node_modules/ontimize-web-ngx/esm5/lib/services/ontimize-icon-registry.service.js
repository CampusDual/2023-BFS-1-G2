import { Injectable, Injector } from '@angular/core';
import { MatIconRegistry } from '@angular/material';
import { Observable } from 'rxjs';
import { OSafePipe } from '../pipes/o-safe.pipe';
var OntimizeMatIconRegistry = (function () {
    function OntimizeMatIconRegistry(matIconRegistry, injector) {
        this.matIconRegistry = matIconRegistry;
        this.injector = injector;
        this.oSafePipe = new OSafePipe(injector);
    }
    OntimizeMatIconRegistry.prototype.initialize = function () {
        this.matIconRegistry.addSvgIconSetInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE, this.oSafePipe.transform(OntimizeMatIconRegistry.ONTIMIZE_ICON_SET_PATH, 'resourceUrl'));
    };
    OntimizeMatIconRegistry.prototype.addOntimizeSvgIcon = function (iconName, url) {
        this.matIconRegistry.addSvgIconInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE, iconName, this.oSafePipe.transform(url, 'resourceUrl'));
        return this.matIconRegistry;
    };
    OntimizeMatIconRegistry.prototype.getSVGElement = function (iconName) {
        return this.matIconRegistry.getNamedSvgIcon(iconName, OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE);
    };
    OntimizeMatIconRegistry.prototype.existsIcon = function (iconName) {
        var self = this;
        return new Observable(function (observer) {
            self.getSVGElement(iconName).subscribe(function (value) {
                observer.next(true);
            }, function (error) {
                observer.next(false);
            }, function () { return observer.complete(); });
        });
    };
    OntimizeMatIconRegistry.ONTIMIZE_ICON_SET_PATH = 'assets/svg/ontimize-icon-set.svg';
    OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE = 'ontimize';
    OntimizeMatIconRegistry.decorators = [
        { type: Injectable }
    ];
    OntimizeMatIconRegistry.ctorParameters = function () { return [
        { type: MatIconRegistry },
        { type: Injector }
    ]; };
    return OntimizeMatIconRegistry;
}());
export { OntimizeMatIconRegistry };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib250aW1pemUtaWNvbi1yZWdpc3RyeS5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vb250aW1pemUtd2ViLW5neC8iLCJzb3VyY2VzIjpbImxpYi9zZXJ2aWNlcy9vbnRpbWl6ZS1pY29uLXJlZ2lzdHJ5LnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDckQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxVQUFVLEVBQVksTUFBTSxNQUFNLENBQUM7QUFDNUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRWpEO0lBTUUsaUNBQ1ksZUFBZ0MsRUFDaEMsUUFBa0I7UUFEbEIsb0JBQWUsR0FBZixlQUFlLENBQWlCO1FBQ2hDLGFBQVEsR0FBUixRQUFRLENBQVU7UUFFNUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsNENBQVUsR0FBVjtRQUNFLElBQUksQ0FBQyxlQUFlLENBQUMsd0JBQXdCLENBQUMsdUJBQXVCLENBQUMsa0JBQWtCLEVBQ3RGLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLHVCQUF1QixDQUFDLHNCQUFzQixFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDN0YsQ0FBQztJQUVELG9EQUFrQixHQUFsQixVQUFtQixRQUFnQixFQUFFLEdBQVc7UUFDOUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxxQkFBcUIsQ0FBQyx1QkFBdUIsQ0FBQyxrQkFBa0IsRUFBRSxRQUFRLEVBQzdGLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ2hELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQztJQUM5QixDQUFDO0lBRUQsK0NBQWEsR0FBYixVQUFjLFFBQWdCO1FBQzVCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLHVCQUF1QixDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDcEcsQ0FBQztJQUVELDRDQUFVLEdBQVYsVUFBVyxRQUFnQjtRQUN6QixJQUFNLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbEIsT0FBTyxJQUFJLFVBQVUsQ0FBVSxVQUFDLFFBQTJCO1lBQ3pELElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQUMsS0FBaUI7Z0JBQ3ZELFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdEIsQ0FBQyxFQUFFLFVBQUEsS0FBSztnQkFDTixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3ZCLENBQUMsRUFBRSxjQUFNLE9BQUEsUUFBUSxDQUFDLFFBQVEsRUFBRSxFQUFuQixDQUFtQixDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBbENhLDhDQUFzQixHQUFHLGtDQUFrQyxDQUFDO0lBQzVELDBDQUFrQixHQUFHLFVBQVUsQ0FBQzs7Z0JBSi9DLFVBQVU7OztnQkFKRixlQUFlO2dCQURILFFBQVE7O0lBMkM3Qiw4QkFBQztDQUFBLEFBdENELElBc0NDO1NBckNZLHVCQUF1QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIEluamVjdG9yIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRJY29uUmVnaXN0cnkgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBPYnNlcnZlciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgT1NhZmVQaXBlIH0gZnJvbSAnLi4vcGlwZXMvby1zYWZlLnBpcGUnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgT250aW1pemVNYXRJY29uUmVnaXN0cnkge1xuXG4gIHB1YmxpYyBzdGF0aWMgT05USU1JWkVfSUNPTl9TRVRfUEFUSCA9ICdhc3NldHMvc3ZnL29udGltaXplLWljb24tc2V0LnN2Zyc7XG4gIHB1YmxpYyBzdGF0aWMgT05USU1JWkVfTkFNRVNQQUNFID0gJ29udGltaXplJztcbiAgcHJvdGVjdGVkIG9TYWZlUGlwZTogT1NhZmVQaXBlO1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgbWF0SWNvblJlZ2lzdHJ5OiBNYXRJY29uUmVnaXN0cnksXG4gICAgcHJvdGVjdGVkIGluamVjdG9yOiBJbmplY3RvclxuICApIHtcbiAgICB0aGlzLm9TYWZlUGlwZSA9IG5ldyBPU2FmZVBpcGUoaW5qZWN0b3IpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLm1hdEljb25SZWdpc3RyeS5hZGRTdmdJY29uU2V0SW5OYW1lc3BhY2UoT250aW1pemVNYXRJY29uUmVnaXN0cnkuT05USU1JWkVfTkFNRVNQQUNFLFxuICAgICAgdGhpcy5vU2FmZVBpcGUudHJhbnNmb3JtKE9udGltaXplTWF0SWNvblJlZ2lzdHJ5Lk9OVElNSVpFX0lDT05fU0VUX1BBVEgsICdyZXNvdXJjZVVybCcpKTtcbiAgfVxuXG4gIGFkZE9udGltaXplU3ZnSWNvbihpY29uTmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZyk6IE1hdEljb25SZWdpc3RyeSB7XG4gICAgdGhpcy5tYXRJY29uUmVnaXN0cnkuYWRkU3ZnSWNvbkluTmFtZXNwYWNlKE9udGltaXplTWF0SWNvblJlZ2lzdHJ5Lk9OVElNSVpFX05BTUVTUEFDRSwgaWNvbk5hbWUsXG4gICAgICB0aGlzLm9TYWZlUGlwZS50cmFuc2Zvcm0odXJsLCAncmVzb3VyY2VVcmwnKSk7XG4gICAgcmV0dXJuIHRoaXMubWF0SWNvblJlZ2lzdHJ5O1xuICB9XG5cbiAgZ2V0U1ZHRWxlbWVudChpY29uTmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxTVkdFbGVtZW50PiB7XG4gICAgcmV0dXJuIHRoaXMubWF0SWNvblJlZ2lzdHJ5LmdldE5hbWVkU3ZnSWNvbihpY29uTmFtZSwgT250aW1pemVNYXRJY29uUmVnaXN0cnkuT05USU1JWkVfTkFNRVNQQUNFKTtcbiAgfVxuXG4gIGV4aXN0c0ljb24oaWNvbk5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxib29sZWFuPigob2JzZXJ2ZXI6IE9ic2VydmVyPGJvb2xlYW4+KSA9PiB7XG4gICAgICBzZWxmLmdldFNWR0VsZW1lbnQoaWNvbk5hbWUpLnN1YnNjcmliZSgodmFsdWU6IFNWR0VsZW1lbnQpID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIubmV4dCh0cnVlKTtcbiAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIubmV4dChmYWxzZSk7XG4gICAgICB9LCAoKSA9PiBvYnNlcnZlci5jb21wbGV0ZSgpKTtcbiAgICB9KTtcbiAgfVxufVxuIl19