import { InjectionToken } from '@angular/core';
import { Util } from '../util/util';
var DEFAULT_LOCAL_STORAGE_KEY = undefined;
var DEFAULT_CONFIG = {
    uuid: DEFAULT_LOCAL_STORAGE_KEY,
    title: 'Ontimize Web App'
};
export var O_INPUTS_OPTIONS = new InjectionToken('o-inputs-options');
export var APP_CONFIG = new InjectionToken('app.config');
var AppConfig = (function () {
    function AppConfig(config) {
        this._config = (config && Util.isObject(config) && !Array.isArray(config)) ? config : {};
    }
    AppConfig.prototype.getConfiguration = function () {
        return Object.assign(DEFAULT_CONFIG, this._config);
    };
    AppConfig.prototype.getServiceConfiguration = function () {
        return this._config.servicesConfiguration || {};
    };
    AppConfig.prototype.getMenuConfiguration = function () {
        return this._config.appMenuConfiguration || [];
    };
    AppConfig.prototype.useRemoteBundle = function () {
        return Util.isDefined(this._config.bundle);
    };
    AppConfig.prototype.getBundleEndpoint = function () {
        var result;
        var existsBundleConf = this.useRemoteBundle();
        if (existsBundleConf && Util.isDefined(this._config.bundle.endpoint)) {
            result = this._config.bundle.endpoint;
        }
        else if (existsBundleConf && Util.isDefined(this._config.bundle.path)) {
            result = this._config.apiEndpoint + '/' + this._config.bundle.path;
        }
        return result;
    };
    AppConfig.prototype.getI18nAssetsConfiguration = function () {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.i18n)) {
            return this._config.assets.i18n;
        }
        return undefined;
    };
    AppConfig.prototype.getCssAssetsConfiguration = function () {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.css)) {
            return this._config.assets.css;
        }
        return undefined;
    };
    AppConfig.prototype.getImagesAssetsConfiguration = function () {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.images)) {
            return this._config.assets.images;
        }
        return undefined;
    };
    AppConfig.prototype.getJsAssetsConfiguration = function () {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.js)) {
            return this._config.assets.js;
        }
        return undefined;
    };
    AppConfig.prototype.getRemoteConfigurationConfig = function () {
        return this._config.remoteConfig;
    };
    AppConfig.prototype.useRemoteConfiguration = function () {
        return Util.isDefined(this._config.remoteConfig);
    };
    AppConfig.prototype.getRemoteConfigurationEndpoint = function () {
        var result;
        var existsRemoteConf = this.useRemoteConfiguration();
        if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.endpoint)) {
            result = this._config.remoteConfig.endpoint;
        }
        else if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.path)) {
            result = this._config.apiEndpoint + '/' + this._config.remoteConfig.path;
        }
        return result;
    };
    AppConfig.prototype.useExportConfiguration = function () {
        return Util.isDefined(this._config.exportConfiguration);
    };
    AppConfig.prototype.getExportPath = function () {
        var result;
        var existsRemoteConf = this.useExportConfiguration();
        if (existsRemoteConf && Util.isDefined(this._config.exportConfiguration.path)) {
            result = this._config.exportConfiguration.path;
        }
        else {
            result = this._config.apiEndpoint + '/export';
        }
        return result;
    };
    return AppConfig;
}());
export { AppConfig };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLWNvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL29udGltaXplLXdlYi1uZ3gvIiwic291cmNlcyI6WyJsaWIvY29uZmlnL2FwcC1jb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQU0vQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLElBQU0seUJBQXlCLEdBQUcsU0FBUyxDQUFDO0FBQzVDLElBQU0sY0FBYyxHQUFXO0lBQzdCLElBQUksRUFBRSx5QkFBeUI7SUFDL0IsS0FBSyxFQUFFLGtCQUFrQjtDQUMxQixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sZ0JBQWdCLEdBQUcsSUFBSSxjQUFjLENBQWlCLGtCQUFrQixDQUFDLENBQUM7QUFFdkYsTUFBTSxDQUFDLElBQU0sVUFBVSxHQUFHLElBQUksY0FBYyxDQUFTLFlBQVksQ0FBQyxDQUFDO0FBRW5FO0lBR0UsbUJBQVksTUFBTztRQUNqQixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzNGLENBQUM7SUFFTSxvQ0FBZ0IsR0FBdkI7UUFDRSxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRU0sMkNBQXVCLEdBQTlCO1FBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixJQUFJLEVBQUUsQ0FBQztJQUNsRCxDQUFDO0lBRU0sd0NBQW9CLEdBQTNCO1FBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLG9CQUFvQixJQUFJLEVBQUUsQ0FBQztJQUNqRCxD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LE9BQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDMUUsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQztTQUM3QzthQUFNLElBQUksZ0JBQWdCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM3RSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztTQUMxRTtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFFTSwwQ0FBc0IsR0FBN0I7UUFDRSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFTSxpQ0FBYSxHQUFwQjtRQUNFLElBQUksTUFBYyxDQUFDO1FBQ25CLElBQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7UUFDdkQsSUFBSSxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDN0UsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDO1NBQ2hEO2FBQU07WUFDTCxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1NBQy9DO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVILGdCQUFDO0FBQUQsQ0FBQyxBQWhHRCxJQWdHQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4uL3R5cGVzL2NvbmZpZy50eXBlJztcbmltcG9ydCB7IE1lbnVSb290SXRlbSB9IGZyb20gJy4uL3R5cGVzL21lbnUtcm9vdC1pdGVtLnR5cGUnO1xuaW1wb3J0IHsgT0lucHV0c09wdGlvbnMgfSBmcm9tICcuLi90eXBlcy9vLWlucHV0cy1vcHRpb25zLnR5cGUnO1xuaW1wb3J0IHsgT1JlbW90ZUNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi90eXBlcy9yZW1vdGUtY29uZmlndXJhdGlvbi50eXBlJztcbmltcG9ydCB7IFV0aWwgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5jb25zdCBERUZBVUxUX0xPQ0FMX1NUT1JBR0VfS0VZID0gdW5kZWZpbmVkO1xuY29uc3QgREVGQVVMVF9DT05GSUc6IENvbmZpZyA9IHtcbiAgdXVpZDogREVGQVVMVF9MT0NBTF9TVE9SQUdFX0tFWSxcbiAgdGl0bGU6ICdPbnRpbWl6ZSBXZWIgQXBwJ1xufTtcblxuZXhwb3J0IGNvbnN0IE9fSU5QVVRTX09QVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW48T0lucHV0c09wdGlvbnM+KCdvLWlucHV0cy1vcHRpb25zJyk7XG5cbmV4cG9ydCBjb25zdCBBUFBfQ09ORklHID0gbmV3IEluamVjdGlvblRva2VuPENvbmZpZz4oJ2FwcC5jb25maWcnKTtcblxuZXhwb3J0IGNsYXNzIEFwcENvbmZpZyB7XG4gIHByaXZhdGUgX2NvbmZpZzogQ29uZmlnO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZz8pIHtcbiAgICB0aGlzLl9jb25maWcgPSAoY29uZmlnICYmIFV0aWwuaXNPYmplY3QoY29uZmlnKSAmJiAhQXJyYXkuaXNBcnJheShjb25maWcpKSA/IGNvbmZpZyA6IHt9O1xuICB9XG5cbiAgcHVibGljIGdldENvbmZpZ3VyYXRpb24oKTogQ29uZmlnIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihERUZBVUxUX0NPTkZJRywgdGhpcy5fY29uZmlnKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTZXJ2aWNlQ29uZmlndXJhdGlvbigpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcuc2VydmljZXNDb25maWd1cmF0aW9uIHx8IHt9O1xuICB9XG5cbiAgcHVibGljIGdldE1lbnVDb25maWd1cmF0aW9uKCk6IE1lbnVSb290SXRlbVtdIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnLmFwcE1lbnVDb25maWd1cmF0aW9uIHx8IFtdO1xuICB9XG5cbiAgcHVibGljIHVzZVJlbW90ZUJ1bmRsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmJ1bmRsZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0QnVuZGxlRW5kcG9pbnQoKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzdWx0OiBzdHJpbmc7XG4gICAgY29uc3QgZXhpc3RzQnVuZGxlQ29uZiA9IHRoaXMudXNlUmVtb3RlQnVuZGxlKCk7XG4gICAgaWYgKGV4aXN0c0J1bmRsZUNvbmYgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmJ1bmRsZS5lbmRwb2ludCkpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuX2NvbmZpZy5idW5kbGUuZW5kcG9pbnQ7XG4gICAgfSBlbHNlIGlmIChleGlzdHNCdW5kbGVDb25mICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5idW5kbGUucGF0aCkpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuX2NvbmZpZy5hcGlFbmRwb2ludCArICcvJyArIHRoaXMuX2NvbmZpZy5idW5kbGUucGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRJMThuQXNzZXRzQ29uZmlndXJhdGlvbigpOiBhbnkge1xuICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYXNzZXRzKSAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYXNzZXRzLmkxOG4pKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmFzc2V0cy5pMThuO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHVibGljIGdldENzc0Fzc2V0c0NvbmZpZ3VyYXRpb24oKTogYW55IHtcbiAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmFzc2V0cykgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmFzc2V0cy5jc3MpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmFzc2V0cy5jc3M7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0SW1hZ2VzQXNzZXRzQ29uZmlndXJhdGlvbigpOiBhbnkge1xuICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYXNzZXRzKSAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYXNzZXRzLmltYWdlcykpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb25maWcuYXNzZXRzLmltYWdlcztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRKc0Fzc2V0c0NvbmZpZ3VyYXRpb24oKTogYW55IHtcbiAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmFzc2V0cykgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmFzc2V0cy5qcykpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb25maWcuYXNzZXRzLmpzO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHVibGljIGdldFJlbW90ZUNvbmZpZ3VyYXRpb25Db25maWcoKTogT1JlbW90ZUNvbmZpZ3VyYXRpb24ge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcucmVtb3RlQ29uZmlnO1xuICB9XG5cbiAgcHVibGljIHVzZVJlbW90ZUNvbmZpZ3VyYXRpb24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5yZW1vdGVDb25maWcpO1xuICB9XG5cbiAgcHVibGljIGdldFJlbW90ZUNvbmZpZ3VyYXRpb25FbmRwb2ludCgpOiBzdHJpbmcge1xuICAgIGxldCByZXN1bHQ6IHN0cmluZztcbiAgICBjb25zdCBleGlzdHNSZW1vdGVDb25mID0gdGhpcy51c2VSZW1vdGVDb25maWd1cmF0aW9uKCk7XG4gICAgaWYgKGV4aXN0c1JlbW90ZUNvbmYgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLnJlbW90ZUNvbmZpZy5lbmRwb2ludCkpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuX2NvbmZpZy5yZW1vdGVDb25maWcuZW5kcG9pbnQ7XG4gICAgfSBlbHNlIGlmIChleGlzdHNSZW1vdGVDb25mICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5yZW1vdGVDb25maWcucGF0aCkpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuX2NvbmZpZy5hcGlFbmRwb2ludCArICcvJyArIHRoaXMuX2NvbmZpZy5yZW1vdGVDb25maWcucGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHB1YmxpYyB1c2VFeHBvcnRDb25maWd1cmF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuZXhwb3J0Q29uZmlndXJhdGlvbik7XG4gIH1cblxuICBwdWJsaWMgZ2V0RXhwb3J0UGF0aCgpIHtcbiAgICBsZXQgcmVzdWx0OiBzdHJpbmc7XG4gICAgY29uc3QgZXhpc3RzUmVtb3RlQ29uZiA9IHRoaXMudXNlRXhwb3J0Q29uZmlndXJhdGlvbigpO1xuICAgIGlmIChleGlzdHNSZW1vdGVDb25mICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5leHBvcnRDb25maWd1cmF0aW9uLnBhdGgpKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLl9jb25maWcuZXhwb3J0Q29uZmlndXJhdGlvbi5wYXRoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSB0aGlzLl9jb25maWcuYXBpRW5kcG9pbnQgKyAnL2V4cG9ydCc7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxufVxuIl19