import * as tslib_1 from "tslib";
import { Injector, Pipe } from '@angular/core';
import { ORealPipe } from './o-real.pipe';
var OPercentPipe = (function (_super) {
    tslib_1.__extends(OPercentPipe, _super);
    function OPercentPipe(injector) {
        var _this = _super.call(this, injector) || this;
        _this.injector = injector;
        return _this;
    }
    OPercentPipe.prototype.transform = function (text, args) {
        if (args && args.valueBase) {
            args.valueBase = this.parseValueBase(args.valueBase);
        }
        return this.numberService.getPercentValue(text, args);
    };
    OPercentPipe.prototype.parseValueBase = function (value) {
        var parsed = parseInt(value, 10);
        if (parsed === 1 || parsed === 100) {
            return parsed;
        }
        return 1;
    };
    OPercentPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'oPercent',
                    pure: false
                },] }
    ];
    OPercentPipe.ctorParameters = function () { return [
        { type: Injector }
    ]; };
    return OPercentPipe;
}(ORealPipe));
export { OPercentPipe };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiby1wZXJjZW50YWdlLnBpcGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9vbnRpbWl6ZS13ZWItbmd4LyIsInNvdXJjZXMiOlsibGliL3BpcGVzL28tcGVyY2VudGFnZS5waXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBaUIsTUFBTSxlQUFlLENBQUM7QUFDOUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQWMxQztJQUlrQyx3Q0FBUztJQUV6QyxzQkFBc0IsUUFBa0I7UUFBeEMsWUFDRSxrQkFBTSxRQUFRLENBQUMsU0FDaEI7UUFGcUIsY0FBUSxHQUFSLFFBQVEsQ0FBVTs7SUFFeEMsQ0FBQztJQUVELGdDQUFTLEdBQVQsVUFBVSxJQUFZLEVBQUUsSUFBMEI7UUFDaEQsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ3REO1FBQ0QsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVTLHFDQUFjLEdBQXhCLFVBQXlCLEtBQStCO1FBQ3RELElBQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxLQUFZLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDMUMsSUFBSSxNQUFNLEtBQUssQ0FBQyxJQUFJLE1BQU0sS0FBSyxHQUFHLEVBQUU7WUFDbEMsT0FBTyxNQUFNLENBQUM7U0FDZjtRQUNELE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQzs7Z0JBdkJGLElBQUksU0FBQztvQkFDSixJQUFJLEVBQUUsVUFBVTtvQkFDaEIsSUFBSSxFQUFFLEtBQUs7aUJBQ1o7OztnQkFsQlEsUUFBUTs7SUF3Q2pCLG1CQUFDO0NBQUEsQUF6QkQsQ0FJa0MsU0FBUyxHQXFCMUM7U0FyQlksWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdG9yLCBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPUmVhbFBpcGUgfSBmcm9tICcuL28tcmVhbC5waXBlJztcblxuZXhwb3J0IHR5cGUgT1BlcmNlbnRhZ2VWYWx1ZUJhc2VUeXBlID0gMSB8IDEwMDtcblxuZXhwb3J0IGludGVyZmFjZSBJUGVyY2VudFBpcGVBcmd1bWVudCB7XG4gIGdyb3VwaW5nPzogYm9vbGVhbjtcbiAgdGhvdXNhbmRTZXBhcmF0b3I/OiBzdHJpbmc7XG4gIGxvY2FsZT86IHN0cmluZztcbiAgZGVjaW1hbFNlcGFyYXRvcj86IHN0cmluZztcbiAgbWluRGVjaW1hbERpZ2l0cz86IG51bWJlcjtcbiAgbWF4RGVjaW1hbERpZ2l0cz86IG51bWJlcjtcbiAgdmFsdWVCYXNlPzogT1BlcmNlbnRhZ2VWYWx1ZUJhc2VUeXBlO1xufVxuXG5AUGlwZSh7XG4gIG5hbWU6ICdvUGVyY2VudCcsXG4gIHB1cmU6IGZhbHNlXG59KVxuZXhwb3J0IGNsYXNzIE9QZXJjZW50UGlwZSBleHRlbmRzIE9SZWFsUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBpbmplY3RvcjogSW5qZWN0b3IpIHtcbiAgICBzdXBlcihpbmplY3Rvcik7XG4gIH1cblxuICB0cmFuc2Zvcm0odGV4dDogc3RyaW5nLCBhcmdzOiBJUGVyY2VudFBpcGVBcmd1bWVudCk6IHN0cmluZyB7XG4gICAgaWYgKGFyZ3MgJiYgYXJncy52YWx1ZUJhc2UpIHtcbiAgICAgIGFyZ3MudmFsdWVCYXNlID0gdGhpcy5wYXJzZVZhbHVlQmFzZShhcmdzLnZhbHVlQmFzZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm51bWJlclNlcnZpY2UuZ2V0UGVyY2VudFZhbHVlKHRleHQsIGFyZ3MpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHBhcnNlVmFsdWVCYXNlKHZhbHVlOiBPUGVyY2VudGFnZVZhbHVlQmFzZVR5cGUpOiBPUGVyY2VudGFnZVZhbHVlQmFzZVR5cGUge1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KHZhbHVlIGFzIGFueSwgMTApO1xuICAgIGlmIChwYXJzZWQgPT09IDEgfHwgcGFyc2VkID09PSAxMDApIHtcbiAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuICAgIHJldHVybiAxO1xuICB9XG5cbn1cbiJdfQ==